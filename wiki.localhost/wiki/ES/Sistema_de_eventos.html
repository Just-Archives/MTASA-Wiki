<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>ES/Sistema de eventos - Multi Theft Auto: Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"ES/Sistema_de_eventos","wgTitle":"ES/Sistema de eventos","wgCurRevisionId":42286,"wgRevisionId":42286,"wgArticleId":6388,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Translated/Scripting Concepts"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"ES/Sistema_de_eventos","wgRelevantArticleId":6388,"wgRequestId":"3f004ac8b0f8740cd86d72d4","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":false,"dialogs":false,"preview":false,"publish":false}});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook"/>
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook"/>
<script async="" src="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.5"/>
<link rel="shortcut icon" href="http://wiki.localhost/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.localhost/opensearch_desc.php" title="Multi Theft Auto: Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.multitheftauto.com/api.php?action=rsd"/>
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html"/>
<link rel="alternate" type="application/atom+xml" title="Multi Theft Auto: Wiki Atom feed" href="http://wiki.localhost/index.php?title=Special:RecentChanges&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-ES_Sistema_de_eventos rootpage-ES_Sistema_de_eventos skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">ES/Sistema de eventos</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Multi Theft Auto: Wiki</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>El sistema de eventos se encuentra en el núcleo del scripting de MTA. Los eventos funcionan en conjunto con el árbol de elementos. Los eventos son provocados cuando algo sucede - un jugador entra a un marcador, un elemento es cliqueado, etc. Cada evento tiene un elemento de origen, que es el que realiza la acción.
</p>
<h2><span class="mw-headline" id="Controladores_de_eventos">Controladores de eventos</span></h2>
<p>Para usar el sistema de eventos, se une o liga el controlador de eventos a los elementos en el árbol de elementos usando <a href="addEventHandler.html" title="ES/addEventHandler">addEventHandler</a>. Cuando se hace esto, las funciones serán activadas para todos los eventos que fueron provocados en ese elemento, sus padres e hijos. Por si mismo, un controlador de eventos ligado al elemento <i>raíz</i> será provocado cuando ocurra un evento para cualquier elemento. Como consecuencia se debe usar generalmente un controlador específico, cuando se pueda. Si solo se desea ver cuando el jugador entra a un marcador específico, solo se une el controlador de evento a dicho marcador.
</p><p>Cada controlador de evento tiene dos variables 'ocultas':
</p>
<ul><li> <b>source</b>: Este es el elemento que origina el evento.</li>
<li> <b>this</b>: Este el elemento al cual se le provoca (p.ej. el que uniste con addEventHandler).</li></ul>
<p>La variable <i>source</i> es la mas importante para la mayoría de los controladores. Casi siempre se querrá hacer referencia a esta variable para decir que elemento provoco el evento. La variable <i>this</i> tiene algunos usos para asegurarse de que el evento fue emitido por el elemento al que el controlador se unió.
</p><p>Es <i>importante</i> notar que los eventos siguen la jerarquía de elementos. Inicialmente, todos los elementos provocan al elemento de <i>origen</i> (o <i>source</i> element), seguido de todos los elementos padres e hijos. Esto implica ciertas cosas:
</p>
<ul><li> Un evento provocado sobre el elemento raíz se provocará en cada elemento dentro del árbol de elementos. Esto debe ser evitado cuando sea posible.</li>
<li> Todos los eventos en cualquier parte dentro del árbol de elementos serán provocado sobre el elemento raíz. Esto significa que simplemente  se atrapa cada evento de un tipo provocando a un controlador hacia el elemento raíz. Esto solo se debe realizar si verdaderamente se quiere cada evento de ese tipo, de otra forma se une al lugar más específico en el árbol de elementos.</li>
<li> Puedes unir un controlador de eventos al elementeo raíz de un resource para obtener todos los eventos provocados por los elementos que el resource contiene.</li>
<li> Puedes crear elementos 'falsos' o 'dummy' para captar eventos de un grupo de elementos hijos.</li>
<li> Puedes usar elementos falsos especificándolos dentro de un archivo .map (p.ej. &lt;flag&gt;) y crear representaciones 'reales' para ellos (p.ej. objectos) y hacer que sean elementos hijos reales de un elemento falso. Los controladores de eventos pueden entonces ser unidos al elemento falso y recibiran todos los eventos de los elementos reales. Esto es útil para cuando un resource maneja la representación del elemento (creando los objetos, por ejemplo), mientras otro desea controlar eventos especiales. Esto podría ser un resource de mapa que quiera controlar una bandera siendo capturada de alguna manera - el resource de mapa (generalmente) no sería consistente de la forma en que la bandera es representada. Esto no importa ya que este pordría solo unir los controladores a su elemento bandera falso mientras el otro resource de modo de juego puede controlar la representacion.</li></ul>
<p>La función unida a un evento es llamada y pasada con un montón de argumentos. Estos argumentos son específicos del evento. Cada evento tiene parámetros específicos, por ejemplo <a href="http://wiki.localhost/index.php?title=ES/onClientGUIClick&amp;action=edit&amp;redlink=1" class="new" title="ES/onClientGUIClick (page does not exist)">onClientGUIClick</a> tiene 4 parámetros, que son:
</p>
<pre class="prettyprint lang-lua">string botón, string estado, int xAbsoluto, int yAbsoluto</pre>
<p>La función unida a este evento pasará estos parametros como argumentos. Debes recordar que cada evento tiene diferentes parámetros.
</p>
<h2><span class="mw-headline" id="Eventos_incorporados">Eventos incorporados</span></h2>
<p>MTA tiene un número de eventos incorporados, los cuales se encuentran en <a href="../Client_Scripting_Events.html" title="Client Scripting Events">Client Scripting Events</a> y <a href="../Scripting_Events.html" title="Scripting Events" class="mw-redirect">Scripting Events</a>.
</p>
<h2><span class="mw-headline" id="Eventos_personalizados">Eventos personalizados</span></h2>
<p>Puedes crear tus propioas eventos que puedan ser provocados a travez de cualquier resource. Esta es una manéra importánte de comunicarse con otros resources y permitirles enlazarlos a tu código. Para agregar tus propios eventos, solo debes llamar la función <a href="addEvent.html" title="ES/addEvent">addEvent</a>. Luego puedes usar la función <a href="http://wiki.localhost/index.php?title=ES/triggerEvent&amp;action=edit&amp;redlink=1" class="new" title="ES/triggerEvent (page does not exist)">triggerEvent</a> para provocar el evento en cualquier momento que quieras - incluso usando un timer, o basado en un evento general. 
</p><p>Por ejemplo, puedes hacer un modo de juego de Captura la Bandera y quieres provocar un evento cuando un jugador capture la bandera. Podrías haces esto uniendo un controlador de eventos al evento estándar de MTA <a href="http://wiki.localhost/index.php?title=ES/onMarkerHit&amp;action=edit&amp;redlink=1" class="new" title="ES/onMarkerHit (page does not exist)">triggerEvent</a> y verificar que el jugador que entró al marcador tiene la bandera. Si es así, entonces puedes provocar tu evento más específico <i>onFlagCaptured</i> y otros resources podrían controlarlo como ellos lo deseen.
</p>
<h2><span class="mw-headline" id="Cancelaci.C3.B3n">Cancelación</span></h2>
<p>Los eventos pueden ser cancelados con <a href="cancelEvent.html" title="ES/cancelEvent">triggerEvent</a>. Esto puede tener una veriedad de consecuencias, pero en general significa que el servidor no realizará ninguna acción que debería hacer. Por ejemplo, cancelar el evento <a href="http://wiki.localhost/index.php?title=ES/onPickupUse&amp;action=edit&amp;redlink=1" class="new" title="ES/onPickupUse (page does not exist)">onPickupUse</a> podría prevenir que un jugador se le de lo que intenta tomar de un pickup, cancelar el evento <a href="http://wiki.localhost/index.php?title=ES/onVehicleStartEnter&amp;action=edit&amp;redlink=1" class="new" title="ES/onVehicleStartEnter (page does not exist)">onVehicleStartEnter</a> pordría prevenir que el jugador entre a un vehículo. Puedes comprobar si el evento actualmente activo ha sido cancelado usando <a href="http://wiki.localhost/index.php?title=ES/wasEventCanceled&amp;action=edit&amp;redlink=1" class="new" title="ES/wasEventCanceled (page does not exist)">wasEventCanceled</a>. Es importante notar que cancelar el evento <i>no</i> previene que otros controladores de evento sean provocados.
</p>
<!-- 
NewPP limit report
Cached time: 20190625165039
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.003 seconds
Real time usage: 0.004 seconds
Preprocessor visited node count: 24/1000000
Preprocessor generated node count: 40/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key mta_wiki-wiki_dev_:pcache:idhash:6388-0!*!0!!*!*!* and timestamp 20190625165039 and revision id 42286
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.multitheftauto.com/index.php?title=ES/Sistema_de_eventos&amp;oldid=42286">https://wiki.multitheftauto.com/index.php?title=ES/Sistema_de_eventos&amp;oldid=42286</a>"</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="../Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../Category_Translated/Scripting_Concepts.html" title="Category:Translated/Scripting Concepts">Translated/Scripting Concepts</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="Sistema_de_eventos.html" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="http://wiki.localhost/index.php?title=Talk:ES/Sistema_de_eventos&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="http://wiki.localhost/index.php?title=ES/Sistema_de_eventos&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="http://wiki.localhost/index.php?title=ES/Sistema_de_eventos&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="http://wiki.localhost/index.php?title=Special:CreateAccount&amp;returnto=ES%2FSistema+de+eventos" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="http://wiki.localhost/index.php?title=Special:UserLogin&amp;returnto=ES%2FSistema+de+eventos" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="../Main_Page.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Home"><a href="../Main_Page.html">Home</a></li>
											<li id="n-How-you-can-help"><a href="../How_you_can_help.html">How you can help</a></li>
											<li id="n-recentchanges"><a href="../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="../Special_Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-reference" role="navigation">
		<h3>reference</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Client-Functions"><a href="../Client_Scripting_Functions.html">Client Functions</a></li>
											<li id="n-Client-Events"><a href="../Client_Scripting_Events.html">Client Events</a></li>
											<li id="n-Server-Functions"><a href="../Server_Scripting_Functions.html">Server Functions</a></li>
											<li id="n-Server-Events"><a href="../Server_Scripting_Events.html">Server Events</a></li>
											<li id="n-Shared-Functions"><a href="../Shared_Scripting_Functions.html">Shared Functions</a></li>
											<li id="n-Useful-Functions"><a href="../Useful_Functions.html">Useful Functions</a></li>
											<li id="n-MTA-Classes"><a href="../MTA_Classes.html">MTA Classes</a></li>
											<li id="n-MTA-Elements"><a href="../Element.html">MTA Elements</a></li>
											<li id="n-Element-Tree"><a href="../Element_tree.html">Element Tree</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.localhost/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Multi Theft Auto: Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="../Special_WhatLinksHere/ES/Sistema_de_eventos.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="../Special_RecentChangesLinked/ES/Sistema_de_eventos.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="http://wiki.localhost/index.php?title=ES/Sistema_de_eventos&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="http://wiki.localhost/index.php?title=ES/Sistema_de_eventos&amp;oldid=42286" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="http://wiki.localhost/index.php?title=ES/Sistema_de_eventos&amp;action=info" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
				<div id="p-lang" class="portlet" role="navigation">
				<h3>In other languages</h3>

				<div class="pBody">
					<ul>
													<li class="interlanguage-link interwiki-en"><a href="http://wiki.multitheftauto.com/index.php?title=Event_system" title="Event system – English" lang="en" hreflang="en">English</a></li>
											</ul>

									</div>
			</div>
				</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="http://www.gnu.org/copyleft/fdl.html"><img src="http://wiki.localhost/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31"/></a>
							</div>
					<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="http://wiki.localhost/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 29 September 2014, at 12:02.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a> unless otherwise noted.</li>
									<li id="privacy"><a href="../Multi_Theft_Auto__Wiki_Privacy_policy.html" title="Multi Theft Auto: Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../Multi_Theft_Auto__Wiki_About.html" title="Multi Theft Auto: Wiki:About">About Multi Theft Auto: Wiki</a></li>
									<li id="disclaimer"><a href="../Multi_Theft_Auto__Wiki_General_disclaimer.html" title="Multi Theft Auto: Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.GoogleCodePrettify"]);});</script>
<script src="http://wiki.localhost/extensions/_MTAThemeExtensions/main.js?303"></script><script src="http://wiki.localhost/extensions/_MTAThemeExtensions/topmenu.js?303"></script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":29});});</script></body></html>
