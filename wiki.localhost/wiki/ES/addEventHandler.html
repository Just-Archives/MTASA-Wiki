<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>ES/addEventHandler - Multi Theft Auto: Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"ES/addEventHandler","wgTitle":"ES/addEventHandler","wgCurRevisionId":37305,"wgRevisionId":37305,"wgArticleId":6387,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Server functions","Client functions"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"ES/addEventHandler","wgRelevantArticleId":6387,"wgRequestId":"94491c9967a2263bed0afe16","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":false,"dialogs":false,"preview":false,"publish":false}});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook"/>
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook"/>
<script async="" src="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.5"/>
<link rel="shortcut icon" href="http://wiki.localhost/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.localhost/opensearch_desc.php" title="Multi Theft Auto: Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.multitheftauto.com/api.php?action=rsd"/>
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html"/>
<link rel="alternate" type="application/atom+xml" title="Multi Theft Auto: Wiki Atom feed" href="http://wiki.localhost/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<meta name='headingclass' content='' data-class='both' data-subcaption='Shared function'>
<meta name='lowercasetitle' content=''>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-ES_addEventHandler rootpage-ES_addEventHandler skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">ES/addEventHandler</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Multi Theft Auto: Wiki</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><!--HC-->
<!--LC--> 
</p>
<div style="border: 1px solid #AFAFAF; border-right: 5px solid #AFAFAF; background: #FFFF99; float: right; width: 200px; padding: 5px; margin: 5px; margin-right: 0px;"><b>Note:</b>
Se recomienda encarecidamente que no usen el mismo nombre para la función de controlador y para el nombre del evento, ya que puede producir confusión si se usan múltiples funciones de controlador.</div>
<p>Esta función añadirá un controlador de eventos. Un controlador de eventos es una función que se llamará cuando el evento que está unido sea provocado. Mira el <a href="http://wiki.localhost/index.php?title=Sistema_de_eventos&amp;action=edit&amp;redlink=1" class="new" title="Sistema de eventos (page does not exist)">Sistema de eventos</a> para mas informacion sobre como funciona el sistema de eventos.
</p><p>Los controladores de eventos son funciones que son llamadas cuando un evento en particular sucede. Cada evento especifica una seria específica de variables que son pasadas hacia el controlador de eventos y pueden ser leídas por la función. Las siguientes variables globales están disponibles para usarlas en funciones de controlador:
</p>
<ul><li><b>source</b>: el elemento que provoca el evento</li>
<li><b>this</b>: el elemento al cual está unido el controlador de eventos</li>
<li><b>client</b>: el cliente que provocó el evento usando <a href="http://wiki.localhost/index.php?title=ES/triggerServerEvent&amp;action=edit&amp;redlink=1" class="new" title="ES/triggerServerEvent (page does not exist)">triggerServerEvent</a>. No establecer si el evento no fue provocado por un cliente.</li></ul>
<ul><li><b>eventName</b>: el nombre del evento que provocó la funcion de controlador.</li></ul>
<p>Es importante recordar que se mueven hacia arriba o hacia abajo en el árbol de elementos. Un evento provocado sobre el elemento raíz es provocado sobre cada elemento del árbol. Un evento provocado sobre cualquier otro elemento es provocado sobre sus antecesores (su elemento padre, los padres de sus padres, etc) y sus hijos, nietos y bisnietos. Puedes usar el argumento <i>getPropagated</i> para especificar si deseas que el controlador reciba eventos que se han propagado hacia arriba o hacia abajo del árbol.
</p><p>El orden en el cual los controladores de eventos son provocados no está definido, no debes confiarte de un controlador de evento que está siendo ejecutado antes de otro.
</p>
<h2><span class="mw-headline" id="Sintaxis">Sintaxis</span></h2>
<pre class="prettyprint lang-lua">
bool addEventHandler ( string nombreEvento, element unidoA, function funcionControlador, [ bool getPropagated = true, string pioridad= "normal" ] )    
</pre> 
<h3><span class="mw-headline" id="Argumentos_Requeridos">Argumentos Requeridos</span></h3>
<ul><li><b>nombreEvento:</b> El nombre del evento al que quieres unir la funcion de controlador.</li>
<li><b>unidoA:</b> El <a href="http://wiki.localhost/index.php?title=Elemento&amp;action=edit&amp;redlink=1" class="new" title="Elemento (page does not exist)">elemento</a> al que deseas unir el controlador. El controlador solo será llamado cuando el evento al que está unido sea provocado para este elemento, o uno de sus hijos. Generalmente, puede ser el elemento raíz (queriendo decir que el controlador será llamado cuando el evento sea provocado para <i>cualquier</i> elemento).</li>
<li><b>funcionControlador:</b> La función de controlador que deseas llamar cuando el evento sea provocado. Esta función pasará todos los parámetros del evento como argumentos, pero no es requerido ya que los toma todos.</li></ul>
<h3><span class="mw-headline" id="Argumentos_Opcionales">Argumentos Opcionales</span></h3>
<ul><li><b>getPropagated:</b> Un boolean que representa si el controlador será provocado si el evento fue propagado hacia arriba o hacia abajo del árbol de elementos (comenzando del origen), y no provocado directamente sobre unidoA (esto es, si los controladores que estan están unidos tienen este argumento establecido en <i>false</i> solo serán profocados si <i>source == this</i>).</li></ul>
<ul><li><b>prioridad&#160;:</b> Un string que representa la prioridad del orden de provocaión relativo a otros controladores de eventos con el mismo nombre. Los valores posibles son:
<ul><li><b>high&#160;:</b> alto</li>
<li><b>normal&#160;: </b> normal</li>
<li><b>low&#160;:</b> bajo</li></ul></li></ul>
<p><i>Tambien es posible agregar un mejor control de prioridad by añadiendo un número positivo o negativo al string de prioridad. Por ejemplo (en orden de prioridad de preferencia): "high+4" "high" "high-1" "normal-6" "normal-7" "low+1" "low" "low-1"</i>
</p>
<h3><span class="mw-headline" id="Devuelve">Devuelve</span></h3>
<p>Devuelve <i>true</i> si el controlador de eventos fue unido con éxito. Devuelve <i>false</i> si el evento especificado se pudo encontrar o ningún parámetro es válido.
</p>
<h2><span class="mw-headline" id="Ejemplo">Ejemplo</span></h2>
<!-- BEGIN SECTION |1|server|Servidor|--><div class='serverHeader' onclick='expandSection(1);' style='cursor:pointer;'><div style='float:right;font-size: 0.75em;' id='sectionExpander1'>Click to collapse [-]</div>Servidor</div><div style='display:;' class='serverContent' id='section1'>
<p>En este ejemplo de servidor se envía un mensaje a todos dentro del servidor cuando un jugador aparece.
</p>
<pre class="prettyprint lang-lua">
-- obtiene el elemento raíz
rootElement = getRootElement()
-- define nuestra función de controlador
function onPlayerSpawnHandler ( elJugador )
	-- obtiene el nombre del jugador
	local nombreJugador = getPlayerName( elJugador )
	-- muestra en la ventana de chat que han aparecido
	outputChatBox ( "¡Ha aparecido " .. nombreJugador .. "!" )
end

addEventHandler( "onPlayerSpawn", rootElement, onPlayerSpawnHandler )
</pre>
</div><!-- END SECTION |1|-->
<h2><span class="mw-headline" id="Cambios">Cambios</span></h2>
<table cellpadding="4" style="border-collapse: collapse; border-width: 1px; border-style: solid; border-color: #FFF">

<tr>
<th width="140" style="background-color: #d0d0e0; border-style: solid; border-width: 1px; border-color: #FFF; color:#00000"> Version
</th>
<th width="500" style="white-space: nowrap; background-color: #d0d0e0; border-style: solid; border-width: 1px; border-color: #FFF"> Description
</th></tr></table>
<table cellpadding="4" style="text-align:center; border-collapse: collapse; border-width: 1px; border-style: solid; border-color: #FFF">

<tr>
<td width="140" style="text-align:center; background-color: #f0f0ff; border-style: solid; border-width: 1px; border-color: #FFF; color:#000000"> 1.3.0-9.03795
</td>
<td width="500" style="text-align:center; white-space: nowrap; background-color: #f0f0ff; border-style: solid; border-width: 1px; border-color: #FFF"> Añadido argumento de prioridad
</td></tr></table>
<h2><span class="mw-headline" id="Vea_tambien">Vea tambien</span></h2>
<ul><li><a href="addEvent.html" title="ES/addEvent">addEvent</a></li>
<li><strong class="selflink">addEventHandler</strong></li>
<li><a href="cancelEvent.html" title="ES/cancelEvent">cancelEvent</a></li>
<li><a href="http://wiki.localhost/index.php?title=ES/getCancelReason&amp;action=edit&amp;redlink=1" class="new" title="ES/getCancelReason (page does not exist)">getCancelReason</a></li>
<li><a href="http://wiki.localhost/index.php?title=ES/removeEventHandler&amp;action=edit&amp;redlink=1" class="new" title="ES/removeEventHandler (page does not exist)">removeEventHandler</a></li>
<li><a href="http://wiki.localhost/index.php?title=ES/triggerClientEvent&amp;action=edit&amp;redlink=1" class="new" title="ES/triggerClientEvent (page does not exist)">triggerClientEvent</a></li>
<li><a href="http://wiki.localhost/index.php?title=ES/triggerEvent&amp;action=edit&amp;redlink=1" class="new" title="ES/triggerEvent (page does not exist)">triggerEvent</a></li>
<li><a href="http://wiki.localhost/index.php?title=ES/wasEventCancelled&amp;action=edit&amp;redlink=1" class="new" title="ES/wasEventCancelled (page does not exist)">wasEventCancelled</a></li></ul>
<ul><li><a href="http://wiki.localhost/index.php?title=ES/triggerLatentClientEvent&amp;action=edit&amp;redlink=1" class="new" title="ES/triggerLatentClientEvent (page does not exist)">triggerLatentClientEvent</a></li>
<li><a href="http://wiki.localhost/index.php?title=ES/getLatentEventHandles&amp;action=edit&amp;redlink=1" class="new" title="ES/getLatentEventHandles (page does not exist)">getLatentEventHandles</a></li>
<li><a href="http://wiki.localhost/index.php?title=ES/getLatentEventStatus&amp;action=edit&amp;redlink=1" class="new" title="ES/getLatentEventStatus (page does not exist)">getLatentEventStatus</a></li>
<li><a href="http://wiki.localhost/index.php?title=ES/cancelLatentEvent&amp;action=edit&amp;redlink=1" class="new" title="ES/cancelLatentEvent (page does not exist)">cancelLatentEvent</a></li></ul>

<!-- 
NewPP limit report
Cached time: 20190625165638
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.014 seconds
Real time usage: 0.017 seconds
Preprocessor visited node count: 164/1000000
Preprocessor generated node count: 597/1000000
Post‐expand include size: 3519/2097152 bytes
Template argument size: 1028/2097152 bytes
Highest expansion depth: 9/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   10.847      1 - -total
 30.65%    3.324      2 - Template:New_feature
 17.16%    1.861      1 - Template:Funciones_de_eventos
 17.14%    1.859      3 - Template:Current_Version
 12.17%    1.320      1 - Template:ChangelogHeader
 10.52%    1.141      1 - Template:Server_client_function
 10.32%    1.120      1 - Template:ChangelogItem
  6.16%    0.668      1 - Template:New_items
  5.08%    0.551      1 - Template:Note_box
-->

<!-- Saved in parser cache with key mta_wiki-wiki_dev_:pcache:idhash:6387-0!*!0!!*!*!* and timestamp 20190625165638 and revision id 37305
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.multitheftauto.com/index.php?title=ES/addEventHandler&amp;oldid=37305">https://wiki.multitheftauto.com/index.php?title=ES/addEventHandler&amp;oldid=37305</a>"</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="../Special_Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="../Category_Server_functions.html" title="Category:Server functions">Server functions</a></li><li><a href="../Category_Client_functions.html" title="Category:Client functions">Client functions</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="addEventHandler.html" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="http://wiki.localhost/index.php?title=Talk:ES/addEventHandler&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="http://wiki.localhost/index.php?title=ES/addEventHandler&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="http://wiki.localhost/index.php?title=ES/addEventHandler&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="http://wiki.localhost/index.php?title=Special:CreateAccount&amp;returnto=ES%2FaddEventHandler" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="http://wiki.localhost/index.php?title=Special:UserLogin&amp;returnto=ES%2FaddEventHandler" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="../Main_Page.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Home"><a href="../Main_Page.html">Home</a></li>
											<li id="n-How-you-can-help"><a href="../How_you_can_help.html">How you can help</a></li>
											<li id="n-recentchanges"><a href="../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="../Special_Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-reference" role="navigation">
		<h3>reference</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Client-Functions"><a href="../Client_Scripting_Functions.html">Client Functions</a></li>
											<li id="n-Client-Events"><a href="../Client_Scripting_Events.html">Client Events</a></li>
											<li id="n-Server-Functions"><a href="../Server_Scripting_Functions.html">Server Functions</a></li>
											<li id="n-Server-Events"><a href="../Server_Scripting_Events.html">Server Events</a></li>
											<li id="n-Shared-Functions"><a href="../Shared_Scripting_Functions.html">Shared Functions</a></li>
											<li id="n-Useful-Functions"><a href="../Useful_Functions.html">Useful Functions</a></li>
											<li id="n-MTA-Classes"><a href="../MTA_Classes.html">MTA Classes</a></li>
											<li id="n-MTA-Elements"><a href="../Element.html">MTA Elements</a></li>
											<li id="n-Element-Tree"><a href="../Element_tree.html">Element Tree</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.localhost/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Multi Theft Auto: Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="../Special_WhatLinksHere/ES/addEventHandler.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="../Special_RecentChangesLinked/ES/addEventHandler.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="http://wiki.localhost/index.php?title=ES/addEventHandler&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="http://wiki.localhost/index.php?title=ES/addEventHandler&amp;oldid=37305" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="http://wiki.localhost/index.php?title=ES/addEventHandler&amp;action=info" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
				<div id="p-lang" class="portlet" role="navigation">
				<h3>In other languages</h3>

				<div class="pBody">
					<ul>
													<li class="interlanguage-link interwiki-en"><a href="http://wiki.multitheftauto.com/index.php?title=addEventHandler" title="addEventHandler – English" lang="en" hreflang="en">English</a></li>
													<li class="interlanguage-link interwiki-ru"><a href="http://wiki.multitheftauto.com/index.php?title=RU/addEventHandler" title="addEventHandler – русский" lang="ru" hreflang="ru">Русский</a></li>
											</ul>

									</div>
			</div>
				</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="http://www.gnu.org/copyleft/fdl.html"><img src="http://wiki.localhost/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31"/></a>
							</div>
					<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="http://wiki.localhost/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 14 October 2013, at 09:00.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a> unless otherwise noted.</li>
									<li id="privacy"><a href="../Multi_Theft_Auto__Wiki_Privacy_policy.html" title="Multi Theft Auto: Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../Multi_Theft_Auto__Wiki_About.html" title="Multi Theft Auto: Wiki:About">About Multi Theft Auto: Wiki</a></li>
									<li id="disclaimer"><a href="../Multi_Theft_Auto__Wiki_General_disclaimer.html" title="Multi Theft Auto: Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.GoogleCodePrettify"]);});</script>
<script src="http://wiki.localhost/extensions/_MTAThemeExtensions/main.js?303"></script><script src="http://wiki.localhost/extensions/_MTAThemeExtensions/topmenu.js?303"></script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":50});});</script></body></html>
