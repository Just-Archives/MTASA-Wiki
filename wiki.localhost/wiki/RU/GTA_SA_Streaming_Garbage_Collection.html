<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>RU/GTA:SA Streaming Garbage Collection - Multi Theft Auto: Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"RU/GTA:SA_Streaming_Garbage_Collection","wgTitle":"RU/GTA:SA Streaming Garbage Collection","wgCurRevisionId":39609,"wgRevisionId":39609,"wgArticleId":7674,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"RU/GTA:SA_Streaming_Garbage_Collection","wgRelevantArticleId":7674,"wgRequestId":"45d76eae45712f971b1e7614","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":false,"dialogs":false,"preview":false,"publish":false}});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook"/>
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook"/>
<script async="" src="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.5"/>
<link rel="shortcut icon" href="http://wiki.localhost/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.localhost/opensearch_desc.php" title="Multi Theft Auto: Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.multitheftauto.com/api.php?action=rsd"/>
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html"/>
<link rel="alternate" type="application/atom+xml" title="Multi Theft Auto: Wiki Atom feed" href="http://wiki.localhost/index.php?title=Special:RecentChanges&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-RU_GTA_SA_Streaming_Garbage_Collection rootpage-RU_GTA_SA_Streaming_Garbage_Collection skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">RU/GTA:SA Streaming Garbage Collection</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Multi Theft Auto: Wiki</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>Система <b>GTA:SA Streaming Garbage Collection</b> отслеживает использование игровой памяти. Она обеспечивает ограничение выделяемой на стриминг памяти для всего игрового движка. Память для стриминга рассчитывается сложением размера порции файла-ресурса каждого загруженного игрового ресурса. Когда лимит достигнут, система попытается высвободить место путем удаления ресурсов из экземпляров игры. Если эта процедура не удалась, игровой движок повиснет (умышленно). Этот лимит может быть отрегулирован настройкой опции видеопамяти в ваших настройках видео.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.90.D0.BA.D1.82.D0.B8.D0.B2.D0.BD.D1.8B.D0.B5_.D0.9F.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.B2.D1.8B.D0.B5_.D0.A1.D1.83.D1.89.D0.BD.D0.BE.D1.81.D1.82.D0.B8"><span class="tocnumber">1</span> <span class="toctext">Активные Потоковые Сущности</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.D0.9C.D0.B5.D1.82.D0.BE.D0.B4.D1.8B_.D0.92.D1.8B.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.9D.D0.BE.D0.B4.D0.BE.D0.B2"><span class="tocnumber">1.1</span> <span class="toctext">Методы Выделения Нодов</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#.D0.A0.D0.B0.D0.B7.D0.BB.D0.B8.D1.87.D0.B8.D1.8F_.D1.80.D0.B5.D0.B0.D0.BB.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D0.B8_.D0.BC.D0.B5.D0.B6.D0.B4.D1.83_MTA_.D0.B2.D0.B5.D1.80.D1.81.D0.B8.D1.8F.D0.BC.D0.B8"><span class="tocnumber">2</span> <span class="toctext">Различия реализации между MTA версиями</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#MTA:BLUE"><span class="tocnumber">2.1</span> <span class="toctext">MTA:BLUE</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#MTA:Eir"><span class="tocnumber">2.2</span> <span class="toctext">MTA:Eir</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#.D0.A1.D1.81.D1.8B.D0.BB.D0.BA.D0.B8"><span class="tocnumber">3</span> <span class="toctext">Ссылки</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.90.D0.BA.D1.82.D0.B8.D0.B2.D0.BD.D1.8B.D0.B5_.D0.9F.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.B2.D1.8B.D0.B5_.D0.A1.D1.83.D1.89.D0.BD.D0.BE.D1.81.D1.82.D0.B8">Активные Потоковые Сущности</span></h2>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="../File_Chillahad_farclip.html" class="image"><img alt="" src="../../images/thumb/2/20/Chillahad_farclip.png/200px-Chillahad_farclip.png" width="200" height="113" class="thumbimage" srcset="/images/thumb/2/20/Chillahad_farclip.png/300px-Chillahad_farclip.png 1.5x, /images/thumb/2/20/Chillahad_farclip.png/400px-Chillahad_farclip.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../File_Chillahad_farclip.html" class="internal" title="Enlarge"></a></div>Полный потенциал GTA:SA стриминга.</div></div></div>
<p>Объекты, здания и даммисы которые имеют свои загруженные RenderWare ресурсы, будут добавлены в <b>активный сборщик мусора сущностей</b>. Как только он заработает, он начнет удалять RenderWare объекты всех зарегистрированных сущностей, которые находятся <b>вне поля зрения</b> или <b>далеко</b>. Если количество ссылок на модель достигло нуля, система освободит ресурс модели. Изначально, движок может <b>обрабатывать до 1000 сущностей</b> в его отсортированном контейнере (CRenderChainInterface &lt;streamingChainInfo&gt;). Если выделение узла контейнера не удалось, запрашивающая сущность уничтожит свои RenderWare данные. Следовательно, изначально только 1000 объектов, зданий или даммисов могут быть отрисованы в одно время. Неспособность выделить узлы контейнера часто была заметна на дальних дистанциях отрисовки (также известна как <b>blinking building bug</b>).
</p><p>Разработчик MTA <a href="../User_Ccw.html" title="User:Ccw">ccw</a> это человек, который первый нашел blinking building bug.
</p>
<h3><span class="mw-headline" id=".D0.9C.D0.B5.D1.82.D0.BE.D0.B4.D1.8B_.D0.92.D1.8B.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.9D.D0.BE.D0.B4.D0.BE.D0.B2">Методы Выделения Нодов</span></h3>
<p>Существуют разные пути для выделения потоковых нодов когда они больше недоступны. Изначально, движок GTA:SA <b>берет потоковые ноды</b> из первых сущностей которые он находит в регистре сборщика мусора потоковых сущностей. Именно поэтому <b>мир дико мерцает</b>, когда он находится вне доступных нодов.
</p><p>Лучший способ заключается в <b>сборе мусора мира по востребованию</b>. В этом случае только сущности, что находятся вне поля зрения потеряют свои RenderWare данные. Производительность этого метода зависит как от типа зарегистрированных потоковых GC сущностей, так и от количества зарегистрированных сущностей.
</p><p>Если память и производительность GPU не вызывают беспокойства, движок может <b>выделить новые ноды в систему</b> чтобы больше сущеностей могли иметь свои RenderWare данные выделенные для мира. Это дает <b>теоретически бесконечную видимость сущностей</b> на экране.
</p><p>Пока каждый метод имеет свои сильные и слабые стороны, оптимальным путем для стриминга мира будет <b>переключение между этими методами во время работы</b>. MTA:Eir поставляется со стандартным ресурсом <b>streaming_opt</b>, который будет делать это за вас. Идея заключается в том, что потоковые узлы будут выделяться в зависимости от мощности движка и по востребованию.
</p>
<h2><span class="mw-headline" id=".D0.A0.D0.B0.D0.B7.D0.BB.D0.B8.D1.87.D0.B8.D1.8F_.D1.80.D0.B5.D0.B0.D0.BB.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D0.B8_.D0.BC.D0.B5.D0.B6.D0.B4.D1.83_MTA_.D0.B2.D0.B5.D1.80.D1.81.D0.B8.D1.8F.D0.BC.D0.B8">Различия реализации между MTA версиями</span></h2>
<h3><span class="mw-headline" id="MTA:BLUE">MTA:BLUE</span></h3>
<p>Баг с расстоянием отрисовки был исключен в MTA:BLUE. Максимальное количество управляемых потоковых сущностей было увеличено до 2500 для компенсации больших расстояний отрисовки. Это значительно повышает производительность движка, потому как может быть выделено большее количество памяти на игровые сущности.
</p>
<h3><span class="mw-headline" id="MTA:Eir">MTA:Eir</span></h3>
<p>В MTA:Eir баг с расстоянием отрисовки был также исправлен. На данный момент жесткий максимум был оставлен на 1000 сущеностях внутри системы сбора мусора; и когда лимит будет достигнут, система выделит новые ноды в отсортированный контейнер. Здесь теоретически нет ограничений на стриминг объектов, даммисов и зданий по этому пути.
Для изменения поведения выделения потоковых нодов, через <a href="../MTA_Eir/New_Scripting_Functions.html" title="MTA:Eir/New Scripting Functions">скриптовые функции</a> были добавлены многочисленные опции. Мерцание уже не баг, а возможность, которая может быть выключена. Используя скриптовые Lua функции можно получить количество выделенных нодов и свободных для выделения.
</p>
<h2><span class="mw-headline" id=".D0.A1.D1.81.D1.8B.D0.BB.D0.BA.D0.B8">Ссылки</span></h2>
<ul><li> <a rel="nofollow" class="external free" href="http://gtaforums.com/topic/573478-iiivcsa-project-2dfx">http://gtaforums.com/topic/573478-iiivcsa-project-2dfx</a> - пионеры исправления расстояния отрисовки</li></ul>

<!-- 
NewPP limit report
Cached time: 20190629064039
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.005 seconds
Real time usage: 0.006 seconds
Preprocessor visited node count: 23/1000000
Preprocessor generated node count: 28/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key mta_wiki-wiki_dev_:pcache:idhash:7674-0!*!0!!en!5!* and timestamp 20190629064039 and revision id 39609
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.multitheftauto.com/index.php?title=RU/GTA:SA_Streaming_Garbage_Collection&amp;oldid=39609">https://wiki.multitheftauto.com/index.php?title=RU/GTA:SA_Streaming_Garbage_Collection&amp;oldid=39609</a>"</div>
					<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="GTA_SA_Streaming_Garbage_Collection.html" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="http://wiki.localhost/index.php?title=Talk:RU/GTA:SA_Streaming_Garbage_Collection&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="http://wiki.localhost/index.php?title=RU/GTA:SA_Streaming_Garbage_Collection&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="http://wiki.localhost/index.php?title=RU/GTA:SA_Streaming_Garbage_Collection&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="http://wiki.localhost/index.php?title=Special:CreateAccount&amp;returnto=RU%2FGTA%3ASA+Streaming+Garbage+Collection" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="http://wiki.localhost/index.php?title=Special:UserLogin&amp;returnto=RU%2FGTA%3ASA+Streaming+Garbage+Collection" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="../Main_Page.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Home"><a href="../Main_Page.html">Home</a></li>
											<li id="n-How-you-can-help"><a href="../How_you_can_help.html">How you can help</a></li>
											<li id="n-recentchanges"><a href="../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.multitheftauto.com/wiki/OnDgsDestroy" title="Load a random page [x]" accesskey="x">Random page</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-reference" role="navigation">
		<h3>reference</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Client-Functions"><a href="../Client_Scripting_Functions.html">Client Functions</a></li>
											<li id="n-Client-Events"><a href="../Client_Scripting_Events.html">Client Events</a></li>
											<li id="n-Server-Functions"><a href="../Server_Scripting_Functions.html">Server Functions</a></li>
											<li id="n-Server-Events"><a href="../Server_Scripting_Events.html">Server Events</a></li>
											<li id="n-Shared-Functions"><a href="../Shared_Scripting_Functions.html">Shared Functions</a></li>
											<li id="n-Useful-Functions"><a href="../Useful_Functions.html">Useful Functions</a></li>
											<li id="n-MTA-Classes"><a href="../MTA_Classes.html">MTA Classes</a></li>
											<li id="n-MTA-Elements"><a href="../Element.html">MTA Elements</a></li>
											<li id="n-Element-Tree"><a href="../Element_tree.html">Element Tree</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.localhost/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Multi Theft Auto: Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="../Special_WhatLinksHere/RU/GTA_SA_Streaming_Garbage_Collection.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="../Special_RecentChangesLinked/RU/GTA_SA_Streaming_Garbage_Collection.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="http://wiki.localhost/index.php?title=RU/GTA:SA_Streaming_Garbage_Collection&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="http://wiki.localhost/index.php?title=RU/GTA:SA_Streaming_Garbage_Collection&amp;oldid=39609" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="http://wiki.localhost/index.php?title=RU/GTA:SA_Streaming_Garbage_Collection&amp;action=info" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
				<div id="p-lang" class="portlet" role="navigation">
				<h3>In other languages</h3>

				<div class="pBody">
					<ul>
													<li class="interlanguage-link interwiki-en"><a href="http://wiki.multitheftauto.com/index.php?title=GTA:SA_Streaming_Garbage_Collection" title="GTA:SA Streaming Garbage Collection – English" lang="en" hreflang="en">English</a></li>
											</ul>

									</div>
			</div>
				</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="http://www.gnu.org/copyleft/fdl.html"><img src="../../resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31"/></a>
							</div>
					<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="../../resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 27 May 2014, at 11:35.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a> unless otherwise noted.</li>
									<li id="privacy"><a href="../Multi_Theft_Auto__Wiki_Privacy_policy.html" title="Multi Theft Auto: Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../Multi_Theft_Auto__Wiki_About.html" title="Multi Theft Auto: Wiki:About">About Multi Theft Auto: Wiki</a></li>
									<li id="disclaimer"><a href="../Multi_Theft_Auto__Wiki_General_disclaimer.html" title="Multi Theft Auto: Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.GoogleCodePrettify"]);});</script>
<script src="../../extensions/_MTAThemeExtensions/main11b9.js?303"></script><script src="../../extensions/_MTAThemeExtensions/topmenu11b9.js?303"></script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":37});});</script></body></html>
