<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>RU/Debugging - Multi Theft Auto: Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"RU/Debugging","wgTitle":"RU/Debugging","wgCurRevisionId":50685,"wgRevisionId":50685,"wgArticleId":4466,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Понятия скриптинга"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"RU/Debugging","wgRelevantArticleId":4466,"wgRequestId":"8e3095bfb7a9916eb04de7c6","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":false,"dialogs":false,"preview":false,"publish":false}});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook"/>
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook"/>
<script async="" src="http://wiki.localhost/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.5"/>
<link rel="shortcut icon" href="http://wiki.localhost/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.localhost/opensearch_desc.php" title="Multi Theft Auto: Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.multitheftauto.com/api.php?action=rsd"/>
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html"/>
<link rel="alternate" type="application/atom+xml" title="Multi Theft Auto: Wiki Atom feed" href="http://wiki.localhost/index.php?title=Special:RecentChanges&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-RU_Debugging rootpage-RU_Debugging skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">RU/Debugging</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Multi Theft Auto: Wiki</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>Во время скриптинга вы часто будете встречать проблемы, незаметные с первого взгляда. Эта страница покажет вам некоторые базовые стратегии локализирования ошибок.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.9A.D0.BE.D0.BD.D1.81.D0.BE.D0.BB.D1.8C_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D0.BA.D0.B8"><span class="tocnumber">1</span> <span class="toctext">Консоль отладки</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80"><span class="tocnumber">1.1</span> <span class="toctext">Пример</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#.D0.92.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BB.D0.BE.D0.B3.D0.B0_.D0.BD.D0.B0_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.B5_.D0.B8_.D0.BA.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D0.B5"><span class="tocnumber">2</span> <span class="toctext">Ведение отладочного лога на сервере и клиенте</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#.D0.A1.D0.B5.D1.80.D0.B2.D0.B5.D1.80"><span class="tocnumber">2.1</span> <span class="toctext">Сервер</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#.D0.9A.D0.BB.D0.B8.D0.B5.D0.BD.D1.82"><span class="tocnumber">2.2</span> <span class="toctext">Клиент</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#.D0.A1.D1.82.D1.80.D0.B0.D1.82.D0.B5.D0.B3.D0.B8.D0.B8_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D0.BA.D0.B8"><span class="tocnumber">3</span> <span class="toctext">Стратегии отладки</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#.D0.9F.D0.BE.D0.BB.D0.B5.D0.B7.D0.BD.D1.8B.D0.B5_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8"><span class="tocnumber">3.1</span> <span class="toctext">Полезные функции</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#.D0.94.D0.BE.D0.B1.D0.B0.D0.B2.D0.BB.D1.8F.D0.B9.D1.82.D0.B5_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D0.BE.D1.87.D0.BD.D1.8B.D0.B5_.D1.81.D0.BE.D0.BE.D0.B1.D1.89.D0.B5.D0.BD.D0.B8.D1.8F.2C_.D1.87.D1.82.D0.BE.D0.B1.D1.8B_.D0.BF.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D1.8F.D1.82.D1.8C_.D0.BA.D0.BE.D0.B3.D0.B4.D0.B0.2C_.D0.BA.D0.B0.D0.BA_.D1.87.D0.B0.D1.81.D1.82.D0.BE_.D0.B8_.D0.B2.D0.BE.D0.BE.D0.B1.D1.89.D0.B5.2C_.D0.B2.D1.8B.D0.BF.D0.BE.D0.BB.D0.BD.D1.8F.D0.B5.D1.82.D1.81.D1.8F_.D0.BB.D0.B8_.D1.83.D1.87.D0.B0.D1.81.D1.82.D0.BE.D0.BA_.D0.BA.D0.BE.D0.B4.D0.B0"><span class="tocnumber">3.2</span> <span class="toctext">Добавляйте отладочные сообщения, чтобы проверять <i>когда</i>, <i>как часто</i> и вообще, <i>выполняется ли</i> участок кода</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#.D0.94.D0.BE.D0.B1.D0.B0.D0.B2.D0.BB.D1.8F.D0.B9.D1.82.D0.B5_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D0.BE.D1.87.D0.BD.D1.8B.D0.B5_.D1.81.D0.BE.D0.BE.D0.B1.D1.89.D0.B5.D0.BD.D0.B8.D1.8F_.D0.B4.D0.BB.D1.8F_.D0.BF.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B8_.D0.B7.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D0.BE.D0.B9"><span class="tocnumber">3.3</span> <span class="toctext">Добавляйте отладочные сообщения для проверки <i>значения</i> переменной</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80_2"><span class="tocnumber">4</span> <span class="toctext">Пример</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#.D0.91.D0.BE.D0.BB.D0.B5.D0.B5_.D0.BD.D0.B5.D0.B7.D0.B0.D0.BC.D0.B5.D1.82.D0.BD.D0.B0.D1.8F_.D0.BE.D1.88.D0.B8.D0.B1.D0.BA.D0.B0"><span class="tocnumber">4.1</span> <span class="toctext">Более незаметная ошибка</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#.D0.9E.D1.82.D0.BB.D0.B0.D0.B4.D0.BA.D0.B0_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC_.D1.81_.D0.BF.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D1.8C.D1.8E"><span class="tocnumber">5</span> <span class="toctext">Отладка проблем с производительностью</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B_.D1.81.D0.BA.D1.80.D0.B8.D0.BF.D1.82.D0.BE.D0.B2.2C_.D0.BA.D0.BE.D1.82.D0.BE.D1.80.D1.8B.D0.B5_.D0.BC.D0.BE.D0.B3.D1.83.D1.82_.D0.B2.D1.8B.D0.B7.D1.8B.D0.B2.D0.B0.D1.82.D1.8C_.D0.BF.D1.80.D0.BE.D0.B2.D0.B0.D0.BB.D1.8B_.D0.BF.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D0.B8"><span class="tocnumber">5.1</span> <span class="toctext">Примеры скриптов, которые могут вызывать провалы производительности</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.9A.D0.BE.D0.BD.D1.81.D0.BE.D0.BB.D1.8C_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D0.BA.D0.B8">Консоль отладки</span></h2>
<p>MTA предоставляет встроенную консоль отладки, которая показывает отладочные сообщения от функций и скриптов MTA. Ее можно открыть, введя в консоли <i>debugscript x</i>, где <i>x</i> - уровень отладки:
</p>
<ul><li> <b>1:</b> только ошибки</li>
<li> <b>2:</b> ошибки и предупреждения</li>
<li> <b>3:</b> ошибки, предупреждения и информационные сообщения</li></ul>
<p>Таким образом, при вводе <i>debugscript 3</i> видны все сообщения, так что либо этот, либо уровень 2 рекомендованы в большинстве случаев. debugscript следует иметь включенным на протяжении практически всего времени, когда тестируете свои скрипты, это поможет в обнаружении опечаток и других мелких ошибок, позволяя с легкостью их поправить.
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80">Пример</span></h3>
<p>В этом отрывке две ошибки:
</p>
<pre class="prettyprint lang-lua">
if (getPlayerName(player) == "Fedor")
	outputChatbox("Hello Fedor")
end
</pre>
<p>Когда скрипт, в котором присутствует данный отрывок кода попробует загрузиться, debugscript выведет что-то типа этого:
</p>
<dl><dd><div style="color:#009900;padding:2px;">INFO: Loading script failed: C:\&lt;server path&gt;\mods\deathmatch\resources\myResource\script.lua:15: 'then' expected near ´outputChatbox'</div></dd></dl>
<p>Это значит, что скрипт не может быть обработан в силу синтаксической ошибки. Показывается путь ко скрипту, чтобы можно было также увидеть, частью какого ресурса он является ('myResource' в данном случае), и, конечно, имя самого скрипта. После имени файла показан номер строки и что в ней, собственно, не так. Теперь все с легкостью можно исправить, мы просто забыли оператор 'then':
</p>
<pre class="prettyprint lang-lua">
if (getPlayerName(player) == "Fedor") then
	outputChatbox("Hello Fedor")
end
</pre>
<p>Сейчас скрипт нормально загрузится и не выведет никаких ошибок, но только пока не выполнится для игрока с ником 'Fedor'. В этом случае, debugscript выведет:
</p>
<dl><dd><div style="color:#FF0000;padding:2px;">ERROR: C:\&lt;server path&gt;\mods\deathmatch\resources\d\script.lua:15: attempt to call global 'outputChatbox' (a nil value)</div></dd></dl>
<p>То есть, что вызванной функции не существует, что и не удивительно, так как ее правильное название - <i>outputChatBox</i> (с заглавной <i>B</i>):
</p>
<pre class="prettyprint lang-lua">
if (getPlayerName(player) == "Fedor") then
	outputChatBox("Hello Fedor")
end
</pre>
<p>Это, конечно, лишь пример, есть еще море других сообщений и сценариев, но вам теперь должна быть понятна сама суть.
</p>
<h2><span class="mw-headline" id=".D0.92.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BB.D0.BE.D0.B3.D0.B0_.D0.BD.D0.B0_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.B5_.D0.B8_.D0.BA.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D0.B5">Ведение отладочного лога на сервере и клиенте</span></h2>
<h4><span class="mw-headline" id=".D0.A1.D0.B5.D1.80.D0.B2.D0.B5.D1.80">Сервер</span></h4>
<p>Перейдите в: <i>(корневая папка MTA)&gt;server&gt;mods&gt;deathmatch</i>
</p><p>Там есть два практически одинаковых файла:
</p>
<ul><li>local.conf - содержит настройки сервера, доступного по нажатию на пункт "host game" главного меню MTA. Это быстрый и простой путь ненадолго запустить сервер извнутри клиента. При выключении клиента выключится и сервер.</li></ul>
<ul><li>mtaserver.conf - используется при выполнении запуска "MTA Server.exe" из (корневая папка MTA)&gt;server. Это способ запустить сервер независимо от клиента на продолжительное время.</li></ul>
<p>В зависимости от выбранного вами способа, вам захочется отредактировать один из этих файлов. Настройки, интересные нам:
</p>
<pre class="prettyprint lang-xml">&lt;!-- Задает имя и путь лог-файла debugscript. Если оставить пустым, такой файл создан не будет. --&gt;
	&lt;scriptdebuglogfile&gt;logs/scripts.log&lt;/scriptdebuglogfile&gt; 
	
	&lt;!-- Задает уровень лог-файла debugscript. Допустимые значения: 0, 1, 2, 3. Если не установить, по умолчанию будет 0. --&gt;
	&lt;scriptdebugloglevel&gt;0&lt;/scriptdebugloglevel&gt;</pre>
<p>Убедитесь, что указали имя лога. Также укажите уровень ошибок, которые будут записываться. При указании 0 ничего не будет записываться. Другие уровни были объяснены в начале данной статьи. При смене уровня записи на 3, все ошибки <b>серверных</b> скриптов будут записаны в (корневая папка MTA)&gt;server&gt;mods&gt;deathmatch&gt;logs&gt;scripts.log
</p>
<h4><span class="mw-headline" id=".D0.9A.D0.BB.D0.B8.D0.B5.D0.BD.D1.82">Клиент</span></h4>
<p>Перейдите в: <i>(корневая папка MTA)&gt;server&gt;clientscript.log</i>
</p><p>В этот файл ведется запись ошибок всех <b>клиентских</b> скриптов. Запись включена по умолчанию, вмешательств не требуется.
</p>
<h2><span class="mw-headline" id=".D0.A1.D1.82.D1.80.D0.B0.D1.82.D0.B5.D0.B3.D0.B8.D0.B8_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D0.BA.D0.B8">Стратегии отладки</span></h2>
<p>Есть несколько стратегий, помогающих в поиске ошибок, мы говорим об отличных от непосредственного просмотра кода, конечно же. Большинство из них включает в себя вывод отладочных сообщений с варьирующейся от ситуации к ситуации информацией.
</p>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.BB.D0.B5.D0.B7.D0.BD.D1.8B.D0.B5_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8">Полезные функции</span></h3>
<p>Для начала, некоторые функции, которые могут оказаться удобными при отладке.
</p>
<ul><li> <a href="../OutputDebugString.html" title="OutputDebugString">outputDebugString</a> или <a href="../OutputChatBox.html" title="OutputChatBox">outputChatBox</a> для вывода информации любого вида</li>
<li> <a rel="nofollow" class="external text" href="http://www.lua.org/manual/5.1/manual.html#pdf-tostring">tostring()</a> обращает переменную в строковую, например, когда она является бинарной (двоичной)</li>
<li> <a href="../GetElementType.html" title="GetElementType">getElementType</a> для выполнения проверки элемента MTA на получение его типа</li></ul>
<h3><span class="mw-headline" id=".D0.94.D0.BE.D0.B1.D0.B0.D0.B2.D0.BB.D1.8F.D0.B9.D1.82.D0.B5_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D0.BE.D1.87.D0.BD.D1.8B.D0.B5_.D1.81.D0.BE.D0.BE.D0.B1.D1.89.D0.B5.D0.BD.D0.B8.D1.8F.2C_.D1.87.D1.82.D0.BE.D0.B1.D1.8B_.D0.BF.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D1.8F.D1.82.D1.8C_.D0.BA.D0.BE.D0.B3.D0.B4.D0.B0.2C_.D0.BA.D0.B0.D0.BA_.D1.87.D0.B0.D1.81.D1.82.D0.BE_.D0.B8_.D0.B2.D0.BE.D0.BE.D0.B1.D1.89.D0.B5.2C_.D0.B2.D1.8B.D0.BF.D0.BE.D0.BB.D0.BD.D1.8F.D0.B5.D1.82.D1.81.D1.8F_.D0.BB.D0.B8_.D1.83.D1.87.D0.B0.D1.81.D1.82.D0.BE.D0.BA_.D0.BA.D0.BE.D0.B4.D0.B0">Добавляйте отладочные сообщения, чтобы проверять <i>когда</i>, <i>как часто</i> и вообще, <i>выполняется ли</i> участок кода</span></h3>
<p>Типичный пример проверки на выполнение участка с <i>if</i>. Чтобы его сделать, просто добавьте любое сообщение, которое вы потом будете в состоянии понять, внутрь участка с <i>if</i>.
</p>
<pre class="prettyprint lang-lua">
if (variable1 == variable2) then
	outputDebugString("вошел в if")
	-- что-нибудь делаем
end
</pre>
<p>Другое применение - проверка переменной на предмет ее изменения. Для начала найдите все случаи, где переменная редактируется, и добавьте сообщения прямо рядом с ней.
</p>
<h3><span class="mw-headline" id=".D0.94.D0.BE.D0.B1.D0.B0.D0.B2.D0.BB.D1.8F.D0.B9.D1.82.D0.B5_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D0.BE.D1.87.D0.BD.D1.8B.D0.B5_.D1.81.D0.BE.D0.BE.D0.B1.D1.89.D0.B5.D0.BD.D0.B8.D1.8F_.D0.B4.D0.BB.D1.8F_.D0.BF.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B8_.D0.B7.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D0.BE.D0.B9">Добавляйте отладочные сообщения для проверки <i>значения</i> переменной</span></h3>
<p>Скажем, вы создали маркер, но он не появляется на той позиции, на которой вы этого хотели бы. Первое, что вы захотите сделать - проверить, была ли выполнена функция <a href="../CreateMarker.html" title="CreateMarker">createMarker</a>. Но одновременно с этим вы также можете проверить и значения, используемые при выполнении функции <a href="../CreateMarker.html" title="CreateMarker">createMarker</a>, всего за один запуск.
</p>
<pre class="prettyprint lang-lua">
outputChatBox("posX - "..x.." posY - "..y.." posZ - "..z)
createMarker(x,y,z)
</pre>
<p>Это выведет в консоль отладки все три переменные, используемые в качестве коодинат для маркера. Подразумевая, что у вас они считываются из map-файла, теперь вы сможете сравнить выведенное в консоль с желаемыми значениями. <a rel="nofollow" class="external text" href="http://www.lua.org/manual/5.1/manual.html#pdf-tostring">tostring()</a> гарантирует, что значения переменных смогут быть выведены вместе строкой, даже если они, например, двоичные.
</p>
<h2><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80_2">Пример</span></h2>
<p>Представьте, что где-то вы создали колшейп (collision shape) и хотите производить какое-либо действие над игроком, простоявшим в нем 10 секунд.
</p>
<pre class="prettyprint lang-lua">
function colShapeHit(player)
	-- устанавливаем таймер на вывод сообщения (можно также вызвать другую функцию)
	-- сохраняем id таймера в таблице, используя игрока как индекс
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"Игрок задержался в колшейпе на 10 секунд!")
end
addEventHandler("onColShapeHit",getRootElement(),colShapeHit)

function colShapeLeave(player)
	-- убираем таймер при покидании игроком колшейпа
	killTimer(colshapeTimer[player])
end
addEventHandler("onColShapeLeave",getRootElement(),colShapeLeave)
</pre>
<p>При попадании игрока в колшейп, в консоль отладки выводится следующее сообщение:
</p>
<dl><dd><div style="color:#FF0000;padding:2px;">ERROR: ..[path]: attempt to index global 'colshapeTimer' (a nil value)</div></dd></dl>
<p>Что значит, что вы пытались проиндексировать несуществующую таблицу. В образце выше это сделано, так как id таймера сохраняется в таблице. Нам нужно добавить проверку на то, существует ли таблица, а если нет - создать ее.
</p>
<pre class="prettyprint lang-lua">
function colShapeHit(player)
	if (colshapeTimer == nil) then
		colshapeTimer = {}
	end
	-- устанавливаем таймер на вывод сообщения (можно также вызвать другую функцию)
	-- сохраняем id таймера в таблице, используя игрока как индекс
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"Игрок задержался в колшейпе на 10 секунд!")
end
addEventHandler("onColShapeHit",getRootElement(),colShapeHit)

function colShapeLeave(player)
	-- убираем таймер при покидании игроком колшейпа
	killTimer(colshapeTimer[player])
end
addEventHandler("onColShapeLeave",getRootElement(),colShapeLeave)
</pre>
<p>Но мы все же получаем предупреждение, когда игрок попадает в колшейп, ждет сообщения и снова его покидает:
</p>
<dl><dd><div style="color:#00FF00;padding:2px;">WARNING: [..]: Bad argument @ 'killTimer' Line: ..</div></dd></dl>
<p>За исключением этого сообщения (о нем поговорим позже) все, похоже, работает правильно. Игрок попадает в колшейп, таймер стартует, если он остается, появляется сообщение, если он уходит, таймер убирается.
</p>
<h3><span class="mw-headline" id=".D0.91.D0.BE.D0.BB.D0.B5.D0.B5_.D0.BD.D0.B5.D0.B7.D0.B0.D0.BC.D0.B5.D1.82.D0.BD.D0.B0.D1.8F_.D0.BE.D1.88.D0.B8.D0.B1.D0.BA.D0.B0">Более незаметная ошибка</span></h3>
<p>Но, в силу некоторых обстоятельств, сообщение выводится дважды, если вы остаетесь в колшейпе на транспортном средстве. Если так получается, значит какой-то код выполняется дважды, мы добавим отладочные сообщения для проверки.
</p>
<pre class="prettyprint lang-lua">
function colShapeHit(player)
	if (colshapeTimer == nil) then
		colshapeTimer = {}
	end
	-- добавляем отладочное сообщение
	outputDebugString("colShapeHit")
	-- устанавливаем таймер на вывод сообщения (можно также вызвать другую функцию)
	-- сохраняем id таймера в таблице, используя игрока как индекс
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"Игрок задержался в колшейпе на 10 секунд!")
end
addEventHandler("onColShapeHit",getRootElement(),colShapeHit)

function colShapeLeave(player)
	-- добавляем отладочное сообщение
	outputDebugString("colShapeLeave")
	-- убираем таймер при покидании игроком колшейпа
	killTimer(colshapeTimer[player])
end
addEventHandler("onColShapeLeave",getRootElement(),colShapeLeave)
</pre>
<p>Теперь мы точно видим, что обе функции, прикрепленные к обработчикам, выполняются дважды, если мы в ТС, или один раз, если мы вне ТС. Такое может получаться, если транспортное средство тоже вызывает срабатывание колшейпа. Чтобы подтвердить или опровергнуть эту теорию, проверим переменную <i>player</i>, которая <b>должна</b> содержать элемент типа player.
</p>
<pre class="prettyprint lang-lua">
function colShapeHit(player)
	if (colshapeTimer == nil) then
		colshapeTimer = {}
	end
	-- добавляем отладочное сообщение, с типом элемента
	outputDebugString("colShapeHit "..getElementType(player))
	-- устанавливаем таймер на вывод сообщения (можно также вызвать другую функцию)
	-- сохраняем id таймера в таблице, используя игрока как индекс
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"Игрок задержался в колшейпе на 10 секунд!")
end
addEventHandler("onColShapeHit",getRootElement(),colShapeHit)

function colShapeLeave(player)
	-- добавляем отладочное сообщение, с типом элемента
	outputDebugString("colShapeLeave "..getElementType(player))
	-- убираем таймер при покидании игроком колшейпа
	killTimer(colshapeTimer[player])
end
addEventHandler("onColShapeLeave",getRootElement(),colShapeLeave)
</pre>
<p>Отладочные сообщения говорят, что одна из переменных <i>player</i> - действительно игрок, а другая - элемент типа vehicle, т.е. ТС. Так как мы хотим, чтобы срабатывание происходило при попадании в колшейп именно игрока, добавляем <i>if</i>, который предотвратит выполнение функции, если в него попал <b>не</b> игрок (не элемент типа player).
</p>
<pre class="prettyprint lang-lua">
function colShapeHit(player)
	if (colshapeTimer == nil) then
		colshapeTimer = {}
	end
	-- добавляем проверку на тип элемента
	if (getElementType(player) ~= "player") then return end
	-- добавляем отладочное сообщение, с типом элемента
	outputDebugString("colShapeHit "..getElementType(player))
	-- устанавливаем таймер на вывод сообщения (можно также вызвать другую функцию)
	-- сохраняем id таймера в таблице, используя игрока как индекс
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"Игрок задержался в колшейпе на 10 секунд!")
end
addEventHandler("onColShapeHit",getRootElement(),colShapeHit)

function colShapeLeave(player)
	-- добавляем проверку на тип элемента
	if (getElementType(player) ~= "player") then return end
	-- добавляем отладочное сообщение, с типом элемента
	outputDebugString("colShapeLeave "..getElementType(player))
	-- убираем таймер при покидании игроком колшейпа
	killTimer(colshapeTimer[player])
end
addEventHandler("onColShapeLeave",getRootElement(),colShapeLeave)
</pre>
<p>Теперь скрипт должен работать как задумано, но все еще будет выводить предупреждение, о котором было сказано ранее. Это происходит, так как таймер, который мы пытаемся убрать при покидании игроком колшейпа, не будет более существовать по прошествии 10 секунд (уже истек). Есть множество способов избавиться от этого предупреждения (вы же знаете, что таймер может более не существовать, и вы хотите его убрать, только если он еще существует). Одним из способов является проверка на то, существует ли упоминаемый в таблице таймер на самом деле. Чтобы ее сделать, нам понадобится <a href="../IsTimer.html" title="IsTimer">isTimer</a>, которой мы и воспользуемся при убирании таймера:
</p>
<pre class="prettyprint lang-lua">
if (isTimer(colshapeTimer[player])) then
	killTimer(colshapeTimer[player])
end
</pre>
<p>Итак, полностью рабочий код таков:
</p>
<pre class="prettyprint lang-lua">
function colShapeHit(player)
	if (colshapeTimer == nil) then
		colshapeTimer = {}
	end
	-- добавляем проверку на тип элемента
	if (getElementType(player) ~= "player") then return end
	-- добавляем отладочное сообщение, с типом элемента
	outputDebugString("colShapeHit "..getElementType(player))
	-- устанавливаем таймер на вывод сообщения (можно также вызвать другую функцию)
	-- сохраняем id таймера в таблице, используя игрока как индекс
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"Игрок задержался в колшейпе на 10 секунд!")
end
addEventHandler("onColShapeHit",getRootElement(),colShapeHit)

function colShapeLeave(player)
	-- добавляем проверку на тип элемента
	if (getElementType(player) ~= "player") then return end
	-- добавляем отладочное сообщение, с типом элемента
	outputDebugString("colShapeLeave "..getElementType(player))
	-- убираем таймер при покидании игроком колшейпа
	if (isTimer(colshapeTimer[player])) then
		killTimer(colshapeTimer[player])
	end
end
addEventHandler("onColShapeLeave",getRootElement(),colShapeLeave)
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.9E.D1.82.D0.BB.D0.B0.D0.B4.D0.BA.D0.B0_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC_.D1.81_.D0.BF.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D1.8C.D1.8E">Отладка проблем с производительностью</span></h2>
<p>Если ваш сервер использует намного больше ресурсов, чем ему следовало бы, или вы просто хотите убедиться, что ваши скрипты эффективны, вы можете узнать правду, воспользовавшись отличным инструментом, который поставляется вместе с сервером MTA SA - performancebrowser. Удостоверьтесь, что он запущен, введя "start performancebrowser", а если у вас его нет, возьмите из комплекта стандартных ресурсов, поставляемых с сервером. Данный инструмент предоставляет потрясающее количество информации, полезной для отладки проблем с производительностью. Утечки памяти, утечки элементов и интенсивно использующие процессор скрипты легко найти через performancebrowser. Например, при использовании опции -d в Lua timing, вы можете увидеть, какие функции сильно загружают процессор.
</p><p>Для доступа к performancebrowser вам понадобится перейти по адресу: <a rel="nofollow" class="external free" href="http://xn--ip-8kchhgcbl9gcfc5m:xn--http-83dljiebn4gmpbcfhs6q/performancebrowser/">http://здесьIPсервера:здесьHTTPпортсервера/performancebrowser/</a> в своем интернет-браузере. Заметьте, что в конце требуется символ / (слэш). То есть, например: <a rel="nofollow" class="external free" href="http://127.0.0.1:22005/performancebrowser/">http://127.0.0.1:22005/performancebrowser/</a> Затем вам понадобится войти со внутриигрового администраторского аккаунта или любого другого аккаунта, имеющего доступ к "general.HTTP". Большинство нужной вам информации находится в разделах Lua timing и Lua memory, там смотрите на те показатели, которые значительно превышают другие.
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B_.D1.81.D0.BA.D1.80.D0.B8.D0.BF.D1.82.D0.BE.D0.B2.2C_.D0.BA.D0.BE.D1.82.D0.BE.D1.80.D1.8B.D0.B5_.D0.BC.D0.BE.D0.B3.D1.83.D1.82_.D0.B2.D1.8B.D0.B7.D1.8B.D0.B2.D0.B0.D1.82.D1.8C_.D0.BF.D1.80.D0.BE.D0.B2.D0.B0.D0.BB.D1.8B_.D0.BF.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D0.B8">Примеры скриптов, которые могут вызывать провалы производительности</span></h3>
<p>Добавление данных в таблицу без последующего удаления. Хотя пройдут месяцы/годы, пока это реально вызовет какие-либо проблемы.
</p>
<pre class="prettyprint lang-lua">
local someData = {}

function storeData()
    someData[source] = true
    -- Здесь не учитывается выход игрока, что вызовет утечку памяти
    -- Используя вкладку Lua timing, вы можете обнаружить использование RAM каждым из ресурсов.
end
addEventHandler("onPlayerJoin", root, storeData)
</pre>
<p>Утечка элементов возможна при использовании по какой-либо причине множества временных колшейпов и последующем их неустранении. Через некоторое время это повлечет за собой проблемы с пропускной способностью, расходом процессора и памяти сервера.
</p>
<pre class="prettyprint lang-lua">
function useTemporaryCol()
    local col = createColCircle(здесь какой-нибудь код)
    if (нормальные для этого условия) then
        destroyElement(col)
    end
    -- Но иногда этого не происходит, так что даже по окончании скрипта зона коллизии остается, что впоследствии
    -- может вылиться в сотни, а то и тысячи бесполезных зон коллизии. 
    -- Вкладка Lua timing позволит вам увидеть количество элементов, созданных каждым скриптом.
end
</pre>
<p>Большой расход процессора чреват тем, что выливается в просадку FPS сервера до порога, когда тот становится неиграбельным. Менее чем за 24 часа это может превратить даже самый популярный сервер в пустующий. Количество "refs" в Lua timing обнаруживает данный тип скопления, удивительно, но вкладка Lua timing в данном случае не помогла, когда Lua memory - напротив.
</p>
<pre class="prettyprint lang-lua">
addEventHandler("onPlayerJoin", root, function()
    -- Код для заходов
    addEventHandler("onPlayerQuit", root, function()
        -- Код для того, когда выходят
        -- Видите проблему? Он привязан к корню (root), к которому обработчик добавляется снова, снова и снова
    end)
end)
</pre>
<p>Функция интенсивно использует процессор, потому что то, что она выполняет, занимает много времени. Это просто функция, которой для завершения требуется много времени. Без performancebrowser вы бы и не догадывались, в чем причина, но с performancebrowser вы можете увидеть, что ресурс сильно загружает процессор во вкладке Lua timing. Если вы затем введете: -d в редактируемое поле options, он даже скажет название файла и первую строку функции, которая так сильно загружает процессор.
</p>
<pre class="prettyprint lang-lua">
function someDodgyCode()
    for i=1, 100000 do
        -- какой-нибудь код
    end
end
</pre>

<!-- 
NewPP limit report
Cached time: 20190625165300
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.012 seconds
Real time usage: 0.013 seconds
Preprocessor visited node count: 208/1000000
Preprocessor generated node count: 494/1000000
Post‐expand include size: 558/2097152 bytes
Template argument size: 345/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.215      1 - -total
 33.90%    1.090      1 - Template:Debug_warning
 19.79%    0.636      2 - Template:Debug_error
 19.75%    0.635      1 - Template:Debug_info
-->

<!-- Saved in parser cache with key mta_wiki-wiki_dev_:pcache:idhash:4466-0!*!0!!en!*!* and timestamp 20190625165300 and revision id 50685
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.multitheftauto.com/index.php?title=RU/Debugging&amp;oldid=50685">https://wiki.multitheftauto.com/index.php?title=RU/Debugging&amp;oldid=50685</a>"</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="../Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../Category_%d0%9f%d0%be%d0%bd%d1%8f%d1%82%d0%b8%d1%8f_%d1%81%d0%ba%d1%80%d0%b8%d0%bf%d1%82%d0%b8%d0%bd%d0%b3%d0%b0.html" title="Category:Понятия скриптинга">Понятия скриптинга</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="Debugging.html" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="http://wiki.localhost/index.php?title=Talk:RU/Debugging&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="http://wiki.localhost/index.php?title=RU/Debugging&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="http://wiki.localhost/index.php?title=RU/Debugging&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="http://wiki.localhost/index.php?title=Special:CreateAccount&amp;returnto=RU%2FDebugging" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="http://wiki.localhost/index.php?title=Special:UserLogin&amp;returnto=RU%2FDebugging" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="../Main_Page.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Home"><a href="../Main_Page.html">Home</a></li>
											<li id="n-How-you-can-help"><a href="../How_you_can_help.html">How you can help</a></li>
											<li id="n-recentchanges"><a href="../Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="../Special_Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
									</ul>
					</div>
		</div>
		<div class="generated-sidebar portlet" id="p-reference" role="navigation">
		<h3>reference</h3>
		<div class='pBody'>
							<ul>
											<li id="n-Client-Functions"><a href="../Client_Scripting_Functions.html">Client Functions</a></li>
											<li id="n-Client-Events"><a href="../Client_Scripting_Events.html">Client Events</a></li>
											<li id="n-Server-Functions"><a href="../Server_Scripting_Functions.html">Server Functions</a></li>
											<li id="n-Server-Events"><a href="../Server_Scripting_Events.html">Server Events</a></li>
											<li id="n-Shared-Functions"><a href="../Shared_Scripting_Functions.html">Shared Functions</a></li>
											<li id="n-Useful-Functions"><a href="../Useful_Functions.html">Useful Functions</a></li>
											<li id="n-MTA-Classes"><a href="../MTA_Classes.html">MTA Classes</a></li>
											<li id="n-MTA-Elements"><a href="../Element.html">MTA Elements</a></li>
											<li id="n-Element-Tree"><a href="../Element_tree.html">Element Tree</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.localhost/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Multi Theft Auto: Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="../Special_WhatLinksHere/RU/Debugging.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="../Special_RecentChangesLinked/RU/Debugging.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="http://wiki.localhost/index.php?title=RU/Debugging&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="http://wiki.localhost/index.php?title=RU/Debugging&amp;oldid=50685" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="http://wiki.localhost/index.php?title=RU/Debugging&amp;action=info" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
				<div id="p-lang" class="portlet" role="navigation">
				<h3>In other languages</h3>

				<div class="pBody">
					<ul>
													<li class="interlanguage-link interwiki-en"><a href="http://wiki.multitheftauto.com/index.php?title=Debugging" title="Debugging – English" lang="en" hreflang="en">English</a></li>
													<li class="interlanguage-link interwiki-hu"><a href="http://wiki.multitheftauto.com/index.php?title=HU/Debugging" title="Debugging – magyar" lang="hu" hreflang="hu">Magyar</a></li>
													<li class="interlanguage-link interwiki-it"><a href="http://wiki.multitheftauto.com/index.php?title=IT/Guida_al_Debug" title="Guida al Debug – italiano" lang="it" hreflang="it">Italiano</a></li>
													<li class="interlanguage-link interwiki-zh-cn"><a href="http://wiki.multitheftauto.com/index.php?title=ZH-CN/%E8%84%9A%E6%9C%AC%E8%B0%83%E8%AF%95%E6%95%99%E7%A8%8B" title="脚本调试教程 – 中文（中国大陆）‎" lang="zh-CN" hreflang="zh-CN">中文（中国大陆）‎</a></li>
											</ul>

									</div>
			</div>
				</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="http://www.gnu.org/copyleft/fdl.html"><img src="http://wiki.localhost/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31"/></a>
							</div>
					<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="http://wiki.localhost/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 15 April 2017, at 16:43.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a> unless otherwise noted.</li>
									<li id="privacy"><a href="../Multi_Theft_Auto__Wiki_Privacy_policy.html" title="Multi Theft Auto: Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../Multi_Theft_Auto__Wiki_About.html" title="Multi Theft Auto: Wiki:About">About Multi Theft Auto: Wiki</a></li>
									<li id="disclaimer"><a href="../Multi_Theft_Auto__Wiki_General_disclaimer.html" title="Multi Theft Auto: Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.GoogleCodePrettify"]);});</script>
<script src="http://wiki.localhost/extensions/_MTAThemeExtensions/main.js?303"></script><script src="http://wiki.localhost/extensions/_MTAThemeExtensions/topmenu.js?303"></script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":44});});</script></body></html>
