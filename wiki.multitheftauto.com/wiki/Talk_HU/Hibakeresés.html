<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Talk:HU/Hibakeresés - Multi Theft Auto: Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":true,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"6effafb974a0e79e8d686125","wgCSPNonce":false,"wgCanonicalNamespace":"Talk","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":1,"wgPageName":"Talk:HU/Hibakeresés","wgTitle":"HU/Hibakeresés","wgCurRevisionId":69282,"wgRevisionId":69282,"wgArticleId":9314,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Talk:HU/Hibakeresés","wgRelevantArticleId":9314,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]};RLSTATE={"site.styles":"ready","user.styles":"ready","user"
:"ready","user.options":"loading","skins.vector.styles.legacy":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.html","ext.GoogleCodePrettify","ext.gadget.ReferenceTooltips","ext.gadget.exlinks","ext.gadget.DotsSyntaxHighlighter","ext.gadget.purgetab","ext.gadget.markblocked"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1i9g4",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="https://wiki.multitheftauto.com/load.php?lang=en&amp;modules=skins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://wiki.multitheftauto.com/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="generator" content="MediaWiki 1.38.2"/>
<meta name="format-detection" content="telephone=no"/>
<link href="https://wiki.multitheftauto.com/extensions/_MTAThemeExtensions/custom.css" rel="stylesheet"/>
<link rel="shortcut icon" href="https://wiki.multitheftauto.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.multitheftauto.com/opensearch_desc.php" title="Multi Theft Auto: Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.multitheftauto.com/api.php?action=rsd"/>
<link rel="license" href="https://www.gnu.org/licenses/fdl-1.3.html"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-1 ns-talk page-Talk_HU_Hibakeresés rootpage-Talk_HU skin-vector action-view skin-vector-legacy"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading">Talk:HU/Hibakeresés</h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Multi Theft Auto: Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><p>A szkriptekben gyakran előfordulnak kisebb nagyobb problémák, amelyeket nem veszünk észre!Ez a leírás segít abban hogy gyorsan megtaláld őket!
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Hibakereső_konzol"><span class="tocnumber">1</span> <span class="toctext">Hibakereső konzol</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Példa"><span class="tocnumber">1.1</span> <span class="toctext">Példa</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#=Szerver_&amp;_Cliens_hibakeresési_napló"><span class="tocnumber">2</span> <span class="toctext">=Szerver &amp; Cliens hibakeresési napló</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Szerver"><span class="tocnumber">2.1</span> <span class="toctext">Szerver</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Kliens"><span class="tocnumber">2.2</span> <span class="toctext">Kliens</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Hibakeresési_stratégiák"><span class="tocnumber">2.3</span> <span class="toctext">Hibakeresési stratégiák</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Hasznos_funkciók"><span class="tocnumber">2.3.1</span> <span class="toctext">Hasznos funkciók</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Add_debugmessages_to_check_if,_when_or_how_often_a_section_of_code_is_executed"><span class="tocnumber">2.3.2</span> <span class="toctext">Add debugmessages to check <i>if</i>, <i>when</i> or <i>how often</i> a section of code is executed</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Add_debugmessages_to_check_the_value_of_a_variable"><span class="tocnumber">2.3.3</span> <span class="toctext">Add debugmessages to check the <i>value</i> of a variable</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Example"><span class="tocnumber">2.4</span> <span class="toctext">Example</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#A_more_inconspicuous_error"><span class="tocnumber">2.4.1</span> <span class="toctext">A more inconspicuous error</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Debugging_Performance_Issues"><span class="tocnumber">2.5</span> <span class="toctext">Debugging Performance Issues</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Examples_of_scripts_that_could_cause_performance_problems"><span class="tocnumber">2.5.1</span> <span class="toctext">Examples of scripts that could cause performance problems</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#Fordító"><span class="tocnumber">2.6</span> <span class="toctext">Fordító</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span id="Hibakeres.C5.91_konzol"></span><span class="mw-headline" id="Hibakereső_konzol">Hibakereső konzol</span></h2>
<p>Az MTA tartalmaz beépített hibakereső konzolt!Hasznos mivel ha elgépelünk valamit és nem vesszük észre ő segítségünkre lehet.Ahhoz hogy tudjuk aktiválni ezt a jogusultságot Adminisztrátor rangot kell viselnünk{ACL}.Ha ez rendben van akkor a "debugscript x" parancsal tudjuk változtatni a visszajelzési szintet!
</p>
<hr />
<p>Lehetőségek:
</p>
<ul><li><b>1:</b> Csak a <b>Hibákat</b> jelzi</li>
<li><b>2:</b> A <b>Hibákat</b> és a <b>Figyelmeztetéseket</b> is jelzi</li>
<li><b>3:</b> A <b>Hibákat</b> és a <b>Figyelmeztetéseket</b> is jelzi illetve az <b>Információkat</b> amelyeket elrejtünk a szkriptekben!</li></ul>
<p>Ha begépeljük a "debugscript 3" parancsot akkor a fent leírt paramétereket fogja megmutatni.Ez a legcélszerűbb funkció, sokkal egyszerűbb vele a fejlesztés
</p>
<h3><span id="P.C3.A9lda"></span><span class="mw-headline" id="Példa">Példa</span></h3>
<p>Ebben a kódban elrejtettünk két darab hibát:
</p>
<pre class="prettyprint lang-lua">function Koszones(message, player)
    if (getPlayerName(player) == "Józsika")
        outputChatbox("Szia Józsika")
    end
end
addEventHandler("onChatMessage", root, Koszones)
</pre>
<p>Ha ezt a kódot lefuttatjuk akkor ezt a hibaüzenetet fogjuk kapni:
</p>
<dl><dd><div style="color:#009900;padding:2px;">INFO: Loading script failed: myResource\script.lua:2: 'then' expected near ´outputChatbox'</div>[Ezt nem fordítom le]</dd></dl>
<p>Itt láthatjuk a hiba pozícióját!(heyle,hibás sor, hiba)
</p>
<pre class="prettyprint lang-lua">function Koszones(message, player)
    if (getPlayerName(player) == "Józsika") then
        outputChatbox("Szia Józsika")
    end
end
addEventHandler("onChatMessage", root, Koszones)
</pre>
<p>Ezzel nincs semmi gond, működik annak rendje és módja szerint DE ha a játékos neve nem "Józsika" akkor ezt láthatjuk:
</p>
<dl><dd><div style="color:#FF0000;padding:2px;">ERROR: myResource\script.lua:2: attempt to call global 'outputChatbox' (a nil value)</div></dd></dl>
<p>This error means that the function <b>outputChatbox</b> is a nil value, that is - it doesn't exist! This is because the function is actually called <a href="../OutputChatBox.html" title="OutputChatBox">outputChatBox</a>, not <a href="https://wiki.multitheftauto.com/index.php?title=OutputChatbox&amp;action=edit&amp;redlink=1" class="new" title="OutputChatbox (page does not exist)">outputChatbox</a> - take care of that capital B.:
</p>
<pre class="prettyprint lang-lua">function SayHello(message, player)
    if (getPlayerName(player) == "Józsika") then
        outputChatBox("Szia Józsika")
    end
end
addEventHandler("onChatMessage", root, SayHello)
</pre>
<p>Ez csak egy kis része a rendszernek.Nagyon sokoldalú illetve érdekes visszajelzéseket tud adni vissza nekünk.
</p>
<h1><span id=".3DSzerver_.26_Cliens_hibakeres.C3.A9si_napl.C3.B3"></span><span class="mw-headline" id="=Szerver_&amp;_Cliens_hibakeresési_napló">=Szerver &amp; Cliens hibakeresési napló</span></h1>
<h4><span class="mw-headline" id="Szerver">Szerver</span></h4>
<p>Menj be a: <i>(MTA mappa)&gt;server&gt;mods&gt;deathmatch</i> mappába
</p><p>Van itt két majdnem azonos fájl.
</p>
<ul><li>A local.conf a beállításokat tartalmazza a „host játék” menüpont beállításait a főmenübe. Ez egy gyors módja a szerver indításának. Ha a host lecsatlakozik akkor a szerver is kikapcsol!</li>
<li>A mtaserver.conf akkor használjuk, amikor „MTA SERVER.EXE” fájlal indítjuk a  szervert!(MTA mappája)&gt; server. Ez a saját szerver  konzol, szóval ha a host lecsatlakozik akkor nem kapcsol le. Ez akkor lehet hasznos, ha érdekel a szerver hosting hosszabb ideig.</li></ul>
<p>Itt be lehet állítani a logok mentési helyét!
</p>
<pre class="prettyprint lang-xml">&lt;!-- Itt beírhatja a log helyét!Ha üresen hagyod akkor a szerver megspórolja a helyet! --&gt;
	&lt;scriptdebuglogfile&gt;logs/scripts.log&lt;/scriptdebuglogfile&gt; 
	
	&lt;!-- Itt lehet beállítani a debug szintjét! Lehetséges értékek: 0, 1, 2, 3. Ha nincs beállítva, akkor automatikusan 0.  --&gt;
	&lt;scriptdebugloglevel&gt;0&lt;/scriptdebugloglevel&gt;</pre>
<p>Te biztos akarsz lenni hogy van egy file a megadott néven. Meg tudod határozni, hogy milyen szintű hibák kerüljene knaplózásra . Ha ez 0 akkor semmi nem lesz rögzítve. A szintek magyarázata a cikk tetején található. Ha a naplózási szint megváltozott 3-ra, akkor ebben az esetben minden „” „szerveroldalon” „” lévő szkripthibákat elnaplóz.
</p>
<pre>(MTA mappa)&gt;server&gt;mods&gt;deathmatch&gt;logs&gt;scripts.log
</pre>
<h4><span class="mw-headline" id="Kliens">Kliens</span></h4>
<p>Menj a: <i>(MTA mappa)&gt;server&gt;clientscript.log</i>
</p><p>Ez a file az összes <b>kliensoldali</b> szkript hibákat naplózza. Ő alapértelmezés szerint fent van, nincs szükség telepítésre!
</p>
<h2><span id="Hibakeres.C3.A9si_strat.C3.A9gi.C3.A1k"></span><span class="mw-headline" id="Hibakeresési_stratégiák">Hibakeresési stratégiák</span></h2>
<p>Számos stratégia létezik, amelyek támogatják a hibakeresést. Legtöbbjük közé tartozik a kimenő Hibaüzenetek, a különböző információktól függően helyezkednek el.
</p>
<h3><span id="Hasznos_funkci.C3.B3k"></span><span class="mw-headline" id="Hasznos_funkciók">Hasznos funkciók</span></h3>
<p>Vannak olyan funkciók, amelyek jól jöhetnek a hibakereséshez.
</p>
<ul><li><a href="../OutputDebugString.html" title="OutputDebugString">outputDebugString</a> vagy <a href="../OutputChatBox.html" title="OutputChatBox">outputChatBox</a> (<a href="../OutputDebugString.html" title="OutputDebugString">outputDebugString</a> a műszaki kimenet)</li>
<li><a rel="nofollow" class="external text" href="http://www.lua.org/manual/5.1/manual.html#pdf-tostring">tostring()</a> Hasznos, ha az érték nem szám vagy string.</li></ul>
<ul><li><a href="../GetElementType.html" title="GetElementType">getElementType</a> ellenőrizni, hogy milyen típusú az MTA elem.</li>
<li><a href="../IsElement.html" title="IsElement">isElement</a> ellenőrizni, hogy a MTA elem létezik.</li></ul>
<h3><span id="Add_debugmessages_to_check_if.2C_when_or_how_often_a_section_of_code_is_executed"></span><span class="mw-headline" id="Add_debugmessages_to_check_if,_when_or_how_often_a_section_of_code_is_executed">Add debugmessages to check <i>if</i>, <i>when</i> or <i>how often</i> a section of code is executed</span></h3>
<p>A typical example would be verify whether an <i>if</i>-section is executed or not. To do that, just add any message you will recognize later within the <i>if</i>-section.
</p>
<pre class="prettyprint lang-lua">if (variable1 == variable2) then
    outputDebugString("variable1 is the same as variable2!")
    -- do anything
end
</pre>
<p>Another application would be to check when variable values are modified. First search for all occurences of the variable being edited and add a message just beside it.
</p>
<h3><span class="mw-headline" id="Add_debugmessages_to_check_the_value_of_a_variable">Add debugmessages to check the <i>value</i> of a variable</span></h3>
<p>Let's say you want to create a marker, but it doesn't appear at the position you expect it to be. The first thing you might want to do is check if the <a href="../CreateMarker.html" title="CreateMarker">createMarker</a> function is executed. But while doing this, you can also check the values being used in the <a href="../CreateMarker.html" title="CreateMarker">createMarker</a> function in one run.
</p>
<pre class="prettyprint lang-lua">outputChatBox("posX is: "..x.." posY is: "..y.." posZ is: "..z)
createMarker(x,y,z)
</pre>
<p>This would output all three variables that are used as coordinates for the marker. Assuming you read those from a map file, you can now compare the debug output to the desired values. The <a rel="nofollow" class="external text" href="http://www.lua.org/manual/5.1/manual.html#pdf-tostring">tostring()</a> will ensure that the values of the variables can be concatenated (put together) as a string, even if it's a boolean value.
</p>
<h2><span class="mw-headline" id="Example">Example</span></h2>
<p>Imagine you created a <a href="../Colshape.html" class="mw-redirect" title="Colshape">collision shape</a> somewhere and you want an action to perform after the player stays for ten seconds inside it, you would do this:
</p>
<pre class="prettyprint lang-lua">function colShapeHit(player)
	-- set a timer to output a message (could as well execute another function)
	-- store the timer id in a table, using the player as index
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"The player stayed 10 seconds in the colshape!")
end
addEventHandler("onColShapeHit", root, colShapeHit)

function colShapeLeave(player)
	-- kill the timer when the player leaves the colshape
	killTimer(colshapeTimer[player])
end
addEventHandler("onColShapeLeave", root, colShapeLeave)
</pre>
<p>When a player enters the colshape, debugscript outputs the following message:
</p>
<dl><dd><div style="color:#FF0000;padding:2px;">ERROR: ..[path]: attempt to index global 'colshapeTimer' (a nil value)</div></dd></dl>
<p>This means you tried to index a table that does not exist (because the table is a nil value, it doesn't exist). In the example above, this is done when storing the timer id in the table. We need to add a check if the table exists and if it does not exist we should create it.
</p>
<pre class="prettyprint lang-lua">function colShapeHit(player)
	if (colshapeTimer == nil) then
		colshapeTimer = {}
	end
	-- set a timer to output a message (could as well execute another function)
	-- store the timer id in a table, using the player as index
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"The player stayed 10 seconds in the colshape!")
end
addEventHandler("onColShapeHit", root, colShapeHit)

function colShapeLeave(player)
	-- kill the timer when the player leaves the colshape
	killTimer(colshapeTimer[player])
end
addEventHandler("onColShapeLeave",root,colShapeLeave)
</pre>
<p>Now we will still receive a warning when a player enters the colshape, waits for the message and leaves it again:
</p>
<dl><dd><div style="color:#00FF00;padding:2px;">WARNING: [..]: Bad argument @ 'killTimer' Line: ..</div></dd></dl>
<p>Except for that (we will talk about that later) everything seems to work fine. A player enters the colshape, the timer is started, if he stays the message occurs, if he leaves the timer is killed.
</p>
<h3><span class="mw-headline" id="A_more_inconspicuous_error">A more inconspicuous error</span></h3>
<p>But for some reason the message gets outputted twice when you stay in the colcircle while in a vehicle. Since it would appear some code is executed twice, we add debug messages to check this.
</p>
<pre class="prettyprint lang-lua">function colShapeHit(player)
	if (colshapeTimer == nil) then
		colshapeTimer = {}
	end
	-- add a debug message
	outputDebugString("colShapeHit")
	-- set a timer to output a message (could as well execute another function)
	-- store the timer id in a table, using the player as index
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"The player stayed 10 seconds in the colshape!")
end
addEventHandler("onColShapeHit",getRootElement(),colShapeHit)

function colShapeLeave(player)
	-- add a debug message
	outputDebugString("colShapeLeave")
	-- kill the timer when the player leaves the colshape
	killTimer(colshapeTimer[player])
end
addEventHandler("onColShapeLeave",getRootElement(),colShapeLeave)
</pre>
<p>Now we notice that both handler functions get executed twice when we are in a vehicle, but only once when we are on-foot. It would appear the vehicle triggers the colshape as well. To confirm this theory, we ensure that the <i>player</i> variable actually holds a reference to a player element.
</p>
<pre class="prettyprint lang-lua">function colShapeHit(player)
	if (colshapeTimer == nil) then
		colshapeTimer = {}
	end
	-- add a debug message, with the element type
	outputDebugString("colShapeHit "..getElementType(player))
	-- set a timer to output a message (could as well execute another function)
	-- store the timer id in a table, using the player as index
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"The player stayed 10 seconds in the colshape!")
end
addEventHandler("onColShapeHit",getRootElement(),colShapeHit)

function colShapeLeave(player)
	-- add a debug message, with the element type
	outputDebugString("colShapeLeave "..getElementType(player))
	-- kill the timer when the player leaves the colshape
	killTimer(colshapeTimer[player])
end
addEventHandler("onColShapeLeave",getRootElement(),colShapeLeave)
</pre>
<p>The debug messages tell us that one of the <i>player</i> variables is a player and that the other one is a vehicle element. Since we only want to react when a player enters the colshape, we add an <i>if</i> that will end the execution of the function if it's <b>not</b> an player element.
</p>
<pre class="prettyprint lang-lua">function colShapeHit(player)
	if (colshapeTimer == nil) then
		colshapeTimer = {}
	end
	-- add a check for the element type
	if (getElementType(player) ~= "player") then return end
	-- add a debug message, with the element type
	outputDebugString("colShapeHit "..getElementType(player))
	-- set a timer to output a message (could as well execute another function)
	-- store the timer id in a table, using the player as index
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"The player stayed 10 seconds in the colshape!")
end
addEventHandler("onColShapeHit",getRootElement(),colShapeHit)

function colShapeLeave(player)
	-- add a check for the element type
	if (getElementType(player) ~= "player") then return end
	-- add a debug message, with the element type
	outputDebugString("colShapeLeave "..getElementType(player))
	-- kill the timer when the player leaves the colshape
	killTimer(colshapeTimer[player])
end
addEventHandler("onColShapeLeave",getRootElement(),colShapeLeave)
</pre>
<p>Now the script should work as desired, but it will still output the warning mentioned above. This happens because the timer we try to kill when a player leaves the colshape will not exist anymore when it has reached the 10 seconds (and therefore executed after the 10th second has completed). There are different ways to get rid of that warning (since you know that the timer might not exist anymore and you only want to kill it if it exists). One way would be to check if the timer referenced in the table really exists. To do this, we need to use <a href="../IsTimer.html" title="IsTimer">isTimer</a>, which we will use when we kill the timer:
</p>
<pre class="prettyprint lang-lua">if (isTimer(colshapeTimer[player])) then
	killTimer(colshapeTimer[player])
end
</pre>
<p>So the complete working code would be:
</p>
<pre class="prettyprint lang-lua">function colShapeHit(player)
	if (colshapeTimer == nil) then
		colshapeTimer = {}
	end
	-- add a check for the element type
	if (getElementType(player) ~= "player") then return end
	-- add a debug message, with the element type
	outputDebugString("colShapeHit "..getElementType(player))
	-- set a timer to output a message (could as well execute another function)
	-- store the timer id in a table, using the player as index
	colshapeTimer[player] = setTimer(outputChatBox,10000,1,"The player stayed 10 seconds in the colshape!")
end
addEventHandler("onColShapeHit",getRootElement(),colShapeHit)

function colShapeLeave(player)
	-- add a check for the element type
	if (getElementType(player) ~= "player") then return end
	-- add a debug message, with the element type
	outputDebugString("colShapeLeave "..getElementType(player))
	-- kill the timer when the player leaves the colshape
	if (isTimer(colshapeTimer[player])) then
		killTimer(colshapeTimer[player])
	end
end
addEventHandler("onColShapeLeave",getRootElement(),colShapeLeave)
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Debugging_Performance_Issues">Debugging Performance Issues</span></h2>
<p>If your server is using up more resources than it should or you just want to make sure your scripts are efficient, you can find the source of the issue by using a great tool that comes with the default resource package called <a href="../Resource_Performancebrowser.html" title="Resource:Performancebrowser">performancebrowser</a>. You can start it with '<b>start performancebrowser'</b>. If it doesn't exist then you can get the latest resources from the <a rel="nofollow" class="external text" href="https://github.com/multitheftauto/mtasa-resources">GitHub repository</a>. This tool provides an incredible amount of information for performance debugging. Memory leaks, element leaks and CPU intensive scripts are all easily findable via performancebrowser. If you use the '<b>d'</b> option in Lua timing you can see which functions are using up the CPU.
</p><p>To access performancebrowser you will need to go to your web browser and enter the address: <a rel="nofollow" class="external free" href="http://serveriphere:serverhttpporthere/performancebrowser/">http://serverIPHere:serverHTTPPortHere/performancebrowser/</a> Note that the / at the end is required. So for example: <a rel="nofollow" class="external free" href="http://127.0.0.1:22005/performancebrowser/">http://127.0.0.1:22005/performancebrowser/</a> You will then need to login with an in-game admin account or any account that has access to '<b>resource.performancebrowser.http'</b> and '<b>resource.ajax.http'</b>. Most of the information you will need are in the categories Lua timing and Lua memory, look for values that are much higher than other values.
</p>
<h3><span class="mw-headline" id="Examples_of_scripts_that_could_cause_performance_problems">Examples of scripts that could cause performance problems</span></h3>
<p>Adding data to a table but never removing it. This would take months/years before it causes a problem though.
</p>
<pre class="prettyprint lang-lua">local someData = {}

function storeData()
    someData[source] = true
    -- There is no handling for when a player quits, this is considered a memory leak
    -- Using the Lua timing tab you can detect the RAM usage of each resource.
end
addEventHandler("onPlayerJoin", root, storeData)
</pre>
<p>Element leaking is possible if you use temporary colshapes for whatever reason and may not destroy them. This would cause bandwidth, CPU and memory performance issues over time.
</p>
<pre class="prettyprint lang-lua">function useTemporaryCol()
    local col = createColCircle(some code here)
    if (normally this should happen) then
        destroyElement(col)
    end
    -- But sometimes it didn't so the script ended but the collision area remained and over time
    -- you may end up with hundreds to thousands of pointless collision areas. 
    -- The Lua timing tab allows you to see the amount of elements each script has created.
end
</pre>
<p>High CPU usage resulting in the server FPS dropping so much that the server is unplayable. In under 24 hours this can create havoc on a very busy server. The amount of "refs" in the Lua timing detect this type of build up, surprisingly the Lua timing tab didn't help in this case but Lua memory did.
</p>
<pre class="prettyprint lang-lua">addEventHandler("onPlayerJoin", root, function()
    -- Code for joiner
    addEventHandler("onPlayerQuit", root, function()
        -- Code for when they have quit
        -- See the problem? It's bound to root which the event handler is being added again and again and again
    end)
end)
</pre>
<p>A function uses up a lot of your CPU because whatever it does takes a long time. This is just some function that takes a long time to complete. Without performancebrowser you'd have no idea its the cause but with performancebrowser you can see that a resource is using lots of CPU in the Lua timing tab. If you then enter: '<b>d'</b> into the options edit box it will even tell you what file name and first line of the function that is using up so much CPU.
</p>
<pre class="prettyprint lang-lua">function someDodgyCode()
    for i=1, 100000 do
        -- some code
    end
end
</pre>
<h2><span id="Ford.C3.ADt.C3.B3"></span><span class="mw-headline" id="Fordító">Fordító</span></h2>
<p><b>Fordította: Kevin</b>
</p>
<!-- 
NewPP limit report
Cached time: 20220727220236
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.014 seconds
Real time usage: 0.015 seconds
Preprocessor visited node count: 167/1000000
Post‐expand include size: 479/2097152 bytes
Template argument size: 266/2097152 bytes
Highest expansion depth: 3/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 7589/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.759      1 -total
 30.48%    0.841      2 Template:Debug_error
 30.30%    0.836      1 Template:Debug_info
 25.37%    0.700      1 Template:Debug_warning
-->

<!-- Saved in parser cache with key wiki-wiki_dev_:pcache:idhash:9314-0!canonical and timestamp 20220727220236 and revision id 69282. Serialized with JSON.
 -->
</div>
<div class="printfooter">Retrieved from "<a dir="ltr" href="https://wiki.multitheftauto.com/index.php?title=Talk:HU/Hibakeres%c3%a9s&amp;oldid=69282">https://wiki.multitheftauto.com/index.php?title=Talk:HU/Hibakeresés&amp;oldid=69282</a>"</div></div>
		<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		
<nav id="p-personal" class="mw-portlet mw-portlet-personal vector-user-menu-legacy vector-menu" aria-labelledby="p-personal-label" role="navigation" 
	 >
	<label id="p-personal-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-createaccount" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=Special:CreateAccount&amp;returnto=Talk%3AHU%2FHibakeres%C3%A9s" title="You are encouraged to create an account and log in; however, it is not mandatory"><span>Create account</span></a></li><li id="pt-login" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=Special:UserLogin&amp;returnto=Talk%3AHU%2FHibakeres%C3%A9s" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			
<nav id="p-namespaces" class="mw-portlet mw-portlet-namespaces vector-menu vector-menu-tabs" aria-labelledby="p-namespaces-label" role="navigation" 
	 >
	<label id="p-namespaces-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Namespaces</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="new mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=HU/Hibakeres%C3%A9s&amp;action=edit&amp;redlink=1" title="View the content page (page does not exist) [c]" accesskey="c"><span>Page</span></a></li><li id="ca-talk" class="selected mw-list-item"><a href="Hibakeres%c3%a9s.html" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li></ul>
		
	</div>
</nav>

			
<nav id="p-variants" class="mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation" 
	 >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox" aria-labelledby="p-variants-label" />
	<label id="p-variants-label" aria-label="Change language variant" class="vector-menu-heading">
		<span class="vector-menu-heading-label">English</span>
			<span class="vector-menu-checkbox-expanded">expanded</span>
			<span class="vector-menu-checkbox-collapsed">collapsed</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			
<nav id="p-views" class="mw-portlet mw-portlet-views vector-menu vector-menu-tabs" aria-labelledby="p-views-label" role="navigation" 
	 >
	<label id="p-views-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Views</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href="Hibakeres%c3%a9s.html"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=Talk:HU/Hibakeres%C3%A9s&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=Talk:HU/Hibakeres%C3%A9s&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li></ul>
		
	</div>
</nav>

			
<nav id="p-cactions" class="mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options"
	 >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox" aria-labelledby="p-cactions-label" />
	<label id="p-cactions-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">More</span>
			<span class="vector-menu-checkbox-expanded">expanded</span>
			<span class="vector-menu-checkbox-collapsed">collapsed</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<div>
			<h3 >
				<label for="searchInput">Search</label>
			</h3>
		<form action="https://wiki.multitheftauto.com/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-navigation">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search Multi Theft Auto: Wiki" aria-label="Search Multi Theft Auto: Wiki" autocapitalize="sentences" title="Search Multi Theft Auto: Wiki [f]" accesskey="f" id="searchInput"
				/>
				<input type="hidden" name="title" value="Special:Search"/>
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search" />
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go" />
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="../Main_Page.html"
			title="Visit the main page"></a>
	</div>
	
<nav id="p-navigation" class="mw-portlet mw-portlet-navigation vector-menu vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation" 
	 >
	<label id="p-navigation-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Navigation</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Home" class="mw-list-item"><a href="../Main_Page.html"><span>Home</span></a></li><li id="n-How-you-can-help" class="mw-list-item"><a href="../How_you_can_help.html"><span>How you can help</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="../Special_RecentChanges.html" icon="recentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li><li id="n-randompage" class="mw-list-item"><a href="../DgsGridListSetItemSelectable.html" icon="die" title="Load a random page [x]" accesskey="x"><span>Random page</span></a></li></ul>
		
	</div>
</nav>

	
<nav id="p-Reference" class="mw-portlet mw-portlet-Reference vector-menu vector-menu-portal portal" aria-labelledby="p-Reference-label" role="navigation" 
	 >
	<label id="p-Reference-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Reference</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Client-Functions" class="mw-list-item"><a href="../Client_Scripting_Functions.html"><span>Client Functions</span></a></li><li id="n-Client-Events" class="mw-list-item"><a href="../Client_Scripting_Events.html"><span>Client Events</span></a></li><li id="n-Server-Functions" class="mw-list-item"><a href="../Server_Scripting_Functions.html"><span>Server Functions</span></a></li><li id="n-Server-Events" class="mw-list-item"><a href="../Server_Scripting_Events.html"><span>Server Events</span></a></li><li id="n-Shared-Functions" class="mw-list-item"><a href="../Shared_Scripting_Functions.html"><span>Shared Functions</span></a></li><li id="n-Useful-Functions" class="mw-list-item"><a href="../Useful_Functions.html"><span>Useful Functions</span></a></li><li id="n-MTA-Classes" class="mw-list-item"><a href="../MTA_Classes.html"><span>MTA Classes</span></a></li><li id="n-MTA-Elements" class="mw-list-item"><a href="../Element.html"><span>MTA Elements</span></a></li><li id="n-Element-Tree" class="mw-list-item"><a href="../Element_tree.html"><span>Element Tree</span></a></li></ul>
		
	</div>
</nav>

<nav id="p-tb" class="mw-portlet mw-portlet-tb vector-menu vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation" 
	 >
	<label id="p-tb-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Tools</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="../Special_WhatLinksHere/Talk_HU/Hibakeres%c3%a9s.html" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="../Special_RecentChangesLinked/Talk_HU/Hibakeres%c3%a9s.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=Talk:HU/Hibakeres%C3%A9s&amp;oldid=69282" title="Permanent link to this revision of the page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=Talk:HU/Hibakeres%C3%A9s&amp;action=info" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 21 February 2021, at 20:29.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/licenses/fdl-1.3.html">GNU Free Documentation License 1.3</a> unless otherwise noted.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../Multi_Theft_Auto__Wiki_Privacy_policy.html" title="Multi Theft Auto: Wiki:Privacy policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../Multi_Theft_Auto__Wiki_About.html" title="Multi Theft Auto: Wiki:About">About Multi Theft Auto: Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="../Multi_Theft_Auto__Wiki_General_disclaimer.html" title="Multi Theft Auto: Wiki:General disclaimer">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/licenses/fdl-1.3.html"><img src="https://wiki.multitheftauto.com/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3" width="88" height="31" loading="lazy"/></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="https://wiki.multitheftauto.com/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

<script src="https://wiki.multitheftauto.com/extensions/_MTAThemeExtensions/main.js"></script><script src="https://wiki.multitheftauto.com/extensions/_MTAThemeExtensions/topmenu.js"></script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.014","walltime":"0.015","ppvisitednodes":{"value":167,"limit":1000000},"postexpandincludesize":{"value":479,"limit":2097152},"templateargumentsize":{"value":266,"limit":2097152},"expansiondepth":{"value":3,"limit":100},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":7589,"limit":5000000},"timingprofile":["100.00%    2.759      1 -total"," 30.48%    0.841      2 Template:Debug_error"," 30.30%    0.836      1 Template:Debug_info"," 25.37%    0.700      1 Template:Debug_warning"]},"cachereport":{"timestamp":"20220727220236","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":68});});</script>
</body>
</html>