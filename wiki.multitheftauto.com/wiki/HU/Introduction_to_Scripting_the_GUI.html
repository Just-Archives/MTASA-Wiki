<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>HU/Introduction to Scripting the GUI - Multi Theft Auto: Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":true,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"8665b5677b836066d07e9bf7","wgCSPNonce":false,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"HU/Introduction_to_Scripting_the_GUI","wgTitle":"HU/Introduction to Scripting the GUI","wgCurRevisionId":60829,"wgRevisionId":60829,"wgArticleId":6870,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["GUI Tutorials"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"HU/Introduction_to_Scripting_the_GUI","wgRelevantArticleId":6870,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove"
:[]};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","skins.vector.styles.legacy":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.html","ext.GoogleCodePrettify","ext.gadget.ReferenceTooltips","ext.gadget.exlinks","ext.gadget.DotsSyntaxHighlighter","ext.gadget.purgetab","ext.gadget.markblocked"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1i9g4",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="https://wiki.multitheftauto.com/load.php?lang=en&amp;modules=skins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://wiki.multitheftauto.com/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="generator" content="MediaWiki 1.38.2"/>
<meta name="format-detection" content="telephone=no"/>
<link href="../../extensions/_MTAThemeExtensions/custom.css" rel="stylesheet"/>
<link rel="shortcut icon" href="https://wiki.multitheftauto.com/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.multitheftauto.com/opensearch_desc.php" title="Multi Theft Auto: Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.multitheftauto.com/api.php?action=rsd"/>
<link rel="license" href="https://www.gnu.org/licenses/fdl-1.3.html"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-HU_Introduction_to_Scripting_the_GUI rootpage-HU_Introduction_to_Scripting_the_GUI skin-vector action-view skin-vector-legacy"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading">HU/Introduction to Scripting the GUI</h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Multi Theft Auto: Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><p>Egy fontos funkciója az MTA-nak az egyedi GUI, azaz Graphic User Interface, magyarul Grafikus Felhasználói Felület létrehozása. A GUI állhat ablakokból, gombokból, beviteli mezőkből, illetve jelölőnégyzetekből. Majdnem minden standard formájú alkotórész a grafikus környezetből. Meglehetnek jelenítve, miközben a játékos játszik, és lehet őket használni bemenetre és kimenetre hagyományos parancsok helyett.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="../File_AdminGUI.html" class="image"><img alt="" src="https://wiki.multitheftauto.com/images/thumb/2/2f/AdminGUI.png/300px-AdminGUI.png" decoding="async" width="300" height="240" class="thumbimage" srcset="/images/thumb/2/2f/AdminGUI.png/450px-AdminGUI.png 1.5x, /images/thumb/2/2f/AdminGUI.png/600px-AdminGUI.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../File_AdminGUI.html" class="internal" title="Enlarge"></a></div>Admin Console GUI</div></div></div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Egy_oktatás_egy_bejelentkező_ablak_létrehozásához"><span class="tocnumber">1</span> <span class="toctext">Egy oktatás egy bejelentkező ablak létrehozásához</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Az_ablak_&quot;megrajzolása&quot;"><span class="tocnumber">1.1</span> <span class="toctext">Az ablak "megrajzolása"</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Relatív_és_Abszolút"><span class="tocnumber">1.2</span> <span class="toctext">Relatív és Abszolút</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Az_alkotórészek_hozzáadása"><span class="tocnumber">1.3</span> <span class="toctext">Az alkotórészek hozzáadása</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Function_használata,_amit_írtunk"><span class="tocnumber">1.4</span> <span class="toctext">Function használata, amit írtunk</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#A_gomb_megírása"><span class="tocnumber">2</span> <span class="toctext">A gomb megírása</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#A_kattintás_észlelése"><span class="tocnumber">2.1</span> <span class="toctext">A kattintás észlelése</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#A_klikk_kezelése"><span class="tocnumber">2.2</span> <span class="toctext">A klikk kezelése</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Triggering_the_server"><span class="tocnumber">2.3</span> <span class="toctext">Triggering the server</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Szerveroldali_event_létrehozása"><span class="tocnumber">2.4</span> <span class="toctext">Szerveroldali event létrehozása</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Bejelentkezés"><span class="tocnumber">2.5</span> <span class="toctext">Bejelentkezés</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Fordította"><span class="tocnumber">3</span> <span class="toctext">Fordította</span></a></li>
</ul>
</div>

<h2><span id="Egy_oktat.C3.A1s_egy_bejelentkez.C5.91_ablak_l.C3.A9trehoz.C3.A1s.C3.A1hoz"></span><span class="mw-headline" id="Egy_oktatás_egy_bejelentkező_ablak_létrehozásához">Egy oktatás egy bejelentkező ablak létrehozásához</span></h2>
<p>Ebben az oktatásban létre fogunk hozni egy sima bejelentkező ablakot, két bemeneti mezővel és egy gombbal. Az ablak akkor fog megjelenni, amikor a játékos belép a játékba, és amikor a gomb meglesz nyomva, a játékos lefog spawnolni. Ez az oktatás folytatni fogja azt a gamemodet, amit elkészítettünk a <a href="Scripting_Introduction.html" class="mw-redirect" title="HU/Scripting Introduction">Bevezetés a scriptelésbe</a> részlegben.
<i>(Ha használtad a <a href="Scripting_Introduction.html" class="mw-redirect" title="HU/Scripting Introduction">Bevezetés a scriptelésbe</a> részleget, kikell törölnöd, vagy kommentelned a <a href="../SpawnPlayer.html" title="SpawnPlayer">spawnPlayer</a> sort a "csatlakozasKezelo" funkcióban, mivel helyettesíteni fogjuk egy GUI alternatívával ebben az oktatásban.)</i> Illetve befogunk tekinteni a kliens-oldali scriptelésbe is.
</p>
<h3><span id="Az_ablak_.22megrajzol.C3.A1sa.22"></span><span class="mw-headline" id="Az_ablak_&quot;megrajzolása&quot;">Az ablak "megrajzolása"</span></h3>
<p>Minden GUIt csak kliens-oldalon tudunk elkészíteni. És amúgy egy jó gyakorlat, hogy minden kliens-oldali fájlt egy külön mappában tartsunk.
</p><p>Menj az /MTA szerver/mods/deathmatch/resources/enszerverem/ könyvtárba, majd hozz létre egy mappát "kliens" néven. A /kliens/ könyvtárban hozz létre egy szöveges fájlt, majd nevezd el "gui.lua"-nak.
</p><p>Ebben a fájlban fogunk megírni egy funkciót, ami az ablakot fogja megrajzolni. Ahhoz, hogy létrehozzunk egy ablakot a <a href="../GuiCreateWindow.html" title="GuiCreateWindow">guiCreateWindow</a> funkciót fogjunk használni:
</p>
<pre class="prettyprint lang-lua">function bejelentkezesiAblakLetrehozasa()
	-- Az X és az Y koordináta definiálása
	local X = 0.375
	local Y = 0.375
	-- A szélesség és a magasság definiálása
	local wSzelesseg = 0.25
	local wMagassag = 0.25
	-- Hozzuk létre az ablakot, és mentsük el az elementjét egy változóban amit nevezzünk el 'wLogin'-nak
	-- Nyomj rá a funkció nevére hogy elolvasd a hozzátartozó dokumentációt
	wLogin = guiCreateWindow(X, Y, wSzelesseg, wMagassag, "Kérlek jelentkezz be", true)
end
</pre>
<h3><span id="Relat.C3.ADv_.C3.A9s_Abszol.C3.BAt"></span><span class="mw-headline" id="Relatív_és_Abszolút">Relatív és Abszolút</span></h3>
<p>Figyeld meg, hogy az utolsó argumentum a guiCreateWindownál a példában <i>true</i>. Ez mutatja, hogy a koordináta és a dimenzió az ablaknál <i>relatív</i>, szóval azt jelenti, hogy <i>százaléka</i> a teljes képernyőméretének. Ez azt jelenti hogy a bal oldala a képernyőnek 0, a jobb oldala 1, akkor egy X pozíció 0.5-nél mutatná a középpontját a képernyőnek. Hasonlóképpen a teteje a képernyőnek 0 és az alja 1, akkor egy Y pozíció 0.2-nél lenne a képernyő 20 százalékánál a képernyőnek fentről lefele. Ezek az elvek igazak mint a wSzelesseg és a wMagassagra is (a wSzelesseg 0.5-nél azt jelenti, hogy az ablak fele olyan széles lesz, mint a képernyőnk).
</p><p>Az alternatíva a relatív érzékek használatának az <b>abszolút</b> (<i>false</i> adása a true helyett a guiCreateWindownak). Az abszolút értékek úgy vannak kiszámolva, hogy az összes pixel a bal-felső sarokból a <b>szülőnek</b> (ha nem egy gui element a szülő, akkor a szülő a képernyő maga). Feltételezzük, hogy a képernyőnk 1920x1200, a bal oldala a képernyőnknek 0 pixelnél, a jobb oldala 1920 pixelnél kezdődik, akkor egy X pozíció 960-nál mutatnál a középpontját a képernyőnek. Hasonlóképpen a teteje 0 pixelnél, és az alja 1200 pixelnél kezdődik, akkor egy Y pozíció 20-nál 20 pixellel tolná el lefele a képernyő tetejétől. Ezek az elvek igazak mint a wSzelesseg és a wMagassagra is (a wSzelesseg 50-nél azt jelenti, hogy az ablak 50 pixel széles lenne). <i>Használhatod a <a href="../GuiGetScreenSize.html" title="GuiGetScreenSize">guiGetScreenSizefunkci</a>ót és egy kis matematikai számolást hogy kiszámíts bizonyos abszolút pozíciókat.</i>
</p><p>Az abszolútot általában egyszerűbb fenntartani amikor egy kódot kézzel hozunk létre, viszont a választásod függ a szituációtól.
</p><p><br />
Az oktatás céljából relatív értékeket fogunk használni.
</p>
<h3><span id="Az_alkot.C3.B3r.C3.A9szek_hozz.C3.A1ad.C3.A1sa"></span><span class="mw-headline" id="Az_alkotórészek_hozzáadása">Az alkotórészek hozzáadása</span></h3>
<p>Következőnek, szövegeket fogunk hozzáadni ("felhasználónév:" és "jelszó:"), bemeneti mezőket (az adat beviteléhez) és egy gombot a bejelentkezéshez.
</p><p>Egy gomb létrehozásához a <a href="../GuiCreateButton.html" title="GuiCreateButton">guiCreateButton</a>, egy bemeneti mező létrehozásához a <a href="../GuiCreateEdit.html" title="GuiCreateEdit">guiCreateEdit</a> funkciót használjuk:
</p><p><b>Mostpedig több kódot adunk hozzá a már meglévő 'createLoginWindow' function-ünkhöz. Ez nem egy új function, hanem a már meglévőt helyettesíti.</b> 
</p>
<pre class="prettyprint lang-lua">function createLoginWindow()
	local X = 0.375
	local Y = 0.375
	local wSzelesseg = 0.25
	local wMagassag = = 0.25
	wLogin = guiCreateWindow(X, Y, wSzelesseg, wMagassag, "Kérlek jelentkezz be", true)
	
	-- Új X és Y koordináta definiálása az első felirathoz
	X = 0.0825
	Y = 0.2
	-- Új wSzelesseg és wMagassag definiálása az első felirathoz
	wSzelesseg = 0.25
	wMagassag = 0.25
	-- Az első felirat létrehozása, jegyezd meg hogy az utolsó 'wLogin' argumentum az ablakot jelenti
	-- amit már feljebb létrehoztunk, és ez lesz a felirat szülője (szóval minden pozíció és méret relatív az ablak pozíciójához képest)
	guiCreateLabel(X, Y, wSzelesseg , wMagassag , "Felhasználónév", true, wdwLogin)
	-- Változtassuk meg az Y értéket, szóval a második címke némileg lejjebb van mint az 
	Y = 0.5
	guiCreateLabel(X, Y, wSzelesseg, wMagassag, "Jelszó", true, wdwLogin)
	

	X = 0.415
	Y = 0.2
	wSzelesseg = 0.5
	wMagassag = 0.15
	edtFelh = guiCreateEdit(X, Y, wSzelesseg, wMagassag, "", true, wdwLogin)
	Y = 0.5
	edtJelszo = guiCreateEdit(X, Y, wSzelesseg, wMagassag, "", true, wdwLogin)
	-- Állíts be a maximum hosszt a felhasználónév és a jelszó mezőnek 50re
	guiEditSetMaxLength(edtFelh, 50)
	guiEditSetMaxLength(edtJelszo, 50)
	
	X = 0.415
	Y = 0.7
	Width = 0.25
	Height = 0.2
	btnLogin = guiCreateButton(X, Y, Width, Height, "Log In", true, wdwLogin)
	
	-- make the window invisible
	guiSetVisible(wdwLogin, false)
end
</pre>
<p>Ne feledje, hogy minden létrehozott GUI alkotóelem az ablak gyermeke, ezt a alkotóelem létrehozásakor a szülőelem (ebben az esetben wdwLogin) megadásával végezzük. 
</p><p>Ez nagyon hasznos, mert nem csak azt jelenti, hogy az összes alkotóelem az ablakhoz lett hozzákapcsolva, és vele együtt mozog, hanem azt is, hogyha bármi változás történik a fő ablakkal, akkor azok az alsóbbrendű ablakoknál is változni fognak. Például elrejthetjük az összes létrehozott GUI-t, egyszerűen az ablak elrejtésével:
</p>
<pre class="prettyprint lang-lua">guiSetVisible(wdwLogin, false) --hides all the GUI we made so we can show them to the player at the appropriate moment. 
</pre>
<h3><span id="Function_haszn.C3.A1lata.2C_amit_.C3.ADrtunk"></span><span class="mw-headline" id="Function_használata,_amit_írtunk">Function használata, amit írtunk</span></h3>
<p>A createLoginWindow function most már kész, de nem fog csinálni semmit, amíg meg nem hívjuk. Ajánlott minden GUI létrehozása, amikor a client resource elindul, elrejtjük őket, majd amikor szükséges megjelenítjük a játékosnak. Ezért létrehozunk egy event handler-t az "<a href="../OnClientResourceStart.html" title="OnClientResourceStart">onClientResourceStart</a>"-ra az ablak létrehozásához:
</p>
<pre class="prettyprint lang-lua">-- attach the event handler to the root element of the resource
-- this means it will only trigger when its own resource is started
addEventHandler("onClientResourceStart", getResourceRootElement(), 
	function ()
		createLoginWindow()
	end
)	
</pre>
<p>Mivel ez egy bejelentkezési ablak, ezért meg kell jelenítenünk az ablakot, amikor a játékos csatlakozik a szerverre. 
Ezt megtehetjük az "<a href="../OnClientResourceStart.html" title="OnClientResourceStart">onClientResourceStart</a>" event használatával is, így módosíthatjuk a fenti kódot az ablak megjelenítéséhez:
</p><p><b>Mostpedig több kódot adunk hozzá a már meglévő 'onClientResourceStart' handler-ünkhöz. Ez nem egy új event handler, hanem a már meglévőt helyettesíti.</b> 
</p>
<pre class="prettyprint lang-lua">addEventHandler("onClientResourceStart", getResourceRootElement(), 
	function ()
		-- create the log in window and its components
		createLoginWindow()

		-- output a brief welcome message to the player
                outputChatBox("Welcome to My MTA:SA Server, please log in.")

		-- if the GUI was successfully created, then show the GUI to the player
	        if (wdwLogin ~= nil) then
			guiSetVisible(wdwLogin, true)
		else
			-- if the GUI hasnt been properly created, tell the player
			outputChatBox("An unexpected error has occurred and the log in GUI has not been created.")
	        end 

		-- enable the players cursor (so they can select and click on the components)
	        showCursor(true)
		-- set the input focus onto the GUI, allowing players (for example) to press 'T' without the chatbox opening
	        guiSetInputEnabled(true)
	end
)	
</pre>
<p>Ne feledje, hogy van egy egyszerű biztonsági ellenőrzés, mielőtt az ablakot láthatóvá tennénk, így abban a szerencsétlen esetben, ha az ablakot nem sikerült létrehozni, vagyis, hogy a wdwLogin nem egy érvényes elem, nem kapunk hibát, és csak tájékoztatjuk a játékost, hogy mi történt. 
A következő lépésben létrehozzuk a gomb funkcióját a bejelentkezéshez.
</p>
<h2><span id="A_gomb_meg.C3.ADr.C3.A1sa"></span><span class="mw-headline" id="A_gomb_megírása">A gomb megírása</span></h2>
<p>Most, hogy létrehoztuk a GUI-t, és megmutattuk a játékosnak, használhatóvá is kell, hogy tegyük. 
</p>
<h3><span id="A_kattint.C3.A1s_.C3.A9szlel.C3.A9se"></span><span class="mw-headline" id="A_kattintás_észlelése">A kattintás észlelése</span></h3>
<p>Amikor a játékos a GUI felület bármely részére kattint, akkor az "<a href="../OnClientGUIClick.html" title="OnClientGUIClick">onClientGUIClick</a>" event fog meghívodni a GUI elemre, amire kattintott. Ez lehetővé teszi számunkra, hogy könnyen észleljünk minden kattintást a használni kívánt grafikus felhasználói felületen.
Például, hozzá tudunk kapcsolni egy eventet a btnLogin gombra, hogy észleljük az összes rányomó kattintást:
</p>
<pre class="prettyprint lang-lua">-- attach the event onClientGUIClick to btnLogin and set it to trigger the 'clientSubmitLogin' function
addEventHandler("onClientGUIClick", btnLogin, clientSubmitLogin, false)
</pre>
<p><b>Az utolsó paraméter az "false". Ez azt jelenti, hogy csak a közvetlenül a btnLogin-t érintő eseménykor fut le. Ennek a paraméternek "true"-ra állítása, miközben a GUI elemekhez rögzítesz eseménykezelőt azt eredményezi, hogy az összes azon az ágon lévő elemhez hozzácsatolja - így bármelyik ugyanazon ágon lévő elemen meghívódik az esemény, le fog futni.</b>
</p><p>Ezt a kódsort hozzáadhatjuk a createLoginWindow functionba. Gyakori hiba, hogy egy event-et próbál meg csatolni egy nem létező GUI elemhez, ezért mindig győződjön meg róla, hogy az event-et mindig a gui elem <b>után</b> csatolja (ebben az esetben a gomb), ami létre lett hozva:
</p><p><b>Mostpedig hozzáírunk több kódot a már meglévő 'createLoginWindow' function-hoz.</b> 
</p>
<pre class="prettyprint lang-lua">function createLoginWindow()
	-- create all our GUI elements
	...

	-- now add our onClientGUIClick event to the button we just created
	addEventHandler("onClientGUIClick", btnLogin, clientSubmitLogin, false)
</pre>
<h3><span id="A_klikk_kezel.C3.A9se"></span><span class="mw-headline" id="A_klikk_kezelése">A klikk kezelése</span></h3>
<p>Most, hogy észlelni tudjuk, hogy a játékos mikor kattint a gombra, írnunk kell egy kódot, ami kezelni tudja ezt, amikor a játékos kattint.
A mi <a href="../OnClientGUIClick.html" title="OnClientGUIClick">onClientGUIClick</a> event handler-ünkben azt mondtuk, hogy hívja meg a clientSubmitLogin function-t, amikor a btnLogin-ra kattintottak.
Ezért most már használhatjuk a clientSubmitLogin function-t annak ellenőrzésére, hogy mi történik a gomb megnyomásakor:
</p>
<pre class="prettyprint lang-lua">-- create the function and define the 'button' and 'state' parameters
-- (these are passed automatically by onClientGUIClick)
function clientSubmitLogin(button,state)
	-- if our login button was clicked with the left mouse button, and the state of the mouse button is up
	if button == "left" and state == "up" then
		-- move the input focus back onto the game (allowing players to move around, open the chatbox, etc)
		guiSetInputEnabled(false)
		-- hide the window and all the components
		guiSetVisible(wdwLogin, false)
		-- hide the mouse cursor
		showCursor(false)
	end
end
</pre>
<p>Most, amikor a gombot megnyomják, az ablakot elrejti, és az összes irányítás visszakerül a játékoshoz. A következőkben megmondjuk a szervernek, hogy engedélyezze a játékos spawnolását.
</p>
<h3><span class="mw-headline" id="Triggering_the_server">Triggering the server</span></h3>
<p>Szerveroldali események hívását a <a href="../TriggerServerEvent.html" title="TriggerServerEvent">triggerServerEvent</a>-el lehet megoldani. Ez lehetővé teszi, hogy eseményeket hívj meg client oldalról a server oldalra. Ugyan ezt a műveletet fordítva is elvégezheti a <a href="../TriggerClientEvent.html" title="TriggerClientEvent">triggerClientEvent</a>-t használatával.
Itt a <a href="../TriggerServerEvent.html" title="TriggerServerEvent">triggerServerEvent</a> function-t használjuk, hogy meghívjuk a saját eventünket a szerveren "submitLogin" néven, amely a játékosok lerakását szabályozza server oldalon.
</p><p><b>Mostpedig hozzáírunk több kódot a már meglévő 'clientSubmitLogin' function-hoz. Ez nem egy új function, hanem a már meglévőt helyettesíti.</b> 
</p>
<pre class="prettyprint lang-lua">function clientSubmitLogin(button,state)
	if button == "left" and state == "up" then
		-- get the text entered in the 'username' field
		local username = guiGetText(edtUser)
		-- get the text entered in the 'password' field
		local password = guiGetText(edtPass)

		-- if the username and password both exist
		if username and password then
			-- trigger the server event 'submitLogin' and pass the username and password to it
			triggerServerEvent("submitLogin", getRootElement(), username, password)

			-- hide the gui, hide the cursor and return control to the player
			guiSetInputEnabled(false)
			guiSetVisible(wdwLogin, false)
			showCursor(false)
		else
			-- otherwise, output a message to the player, do not trigger the server
			-- and do not hide the gui
			outputChatBox("Please enter a username and password.")
		end
	end
end
</pre>
<h3><span id="Szerveroldali_event_l.C3.A9trehoz.C3.A1sa"></span><span class="mw-headline" id="Szerveroldali_event_létrehozása">Szerveroldali event létrehozása</span></h3>
<p>Az összes szükséges client oldali kódunk megvan már, szóval nyisd meg a server oldali 'script.lua' fájlt (az <a href="../Scripting_Introduction.html" title="Scripting Introduction">Introduction to Scripting</a>-ből), vagy egy másik alkalmas server oldali fájlt, amivel működik.
</p><p>On the server side, recall that we are spawning the player as soon as they login.
So, first of all, we will need to define the custom event that we used before on the client. This can be done using <a href="../AddEvent.html" title="AddEvent">addEvent</a> and <a href="../AddEventHandler.html" title="AddEventHandler">addEventHandler</a>.
</p>
<pre class="prettyprint lang-lua">-- create our loginHandler function, with username and password parameters (passed from the client gui)
function loginHandler(username,password)

end

-- define our custom event, and allow it to be triggered from the client ('true')
addEvent("submitLogin",true)
-- add an event handler so that when submitLogin is triggered, the function loginHandler is called
addEventHandler("submitLogin",root,loginHandler)
</pre>
<h3><span id="Bejelentkez.C3.A9s"></span><span class="mw-headline" id="Bejelentkezés">Bejelentkezés</span></h3>
<p>Most már van egy function-unk, ami a 'submitLogin' eventen keresztül hívódik meg, így dolgozhatunk a bejelentkezésen és a játékos lerakásán a   'loginHandler' használatával:
</p>
<pre class="prettyprint lang-lua">function loginHandler(username,password)
	-- check that the username and password are correct
	if username == "user" and password == "apple" then
		-- the player has successfully logged in, so spawn them
		if (client) then
			spawnPlayer(client, 1959.55, -1714.46, 10)
			fadeCamera(client, true)
                        setCameraTarget(client, client)
			outputChatBox("Welcome to My Server.", client)
		end
	else
		-- if the username or password are not correct, output a message to the player
		outputChatBox("Invalid username and password. Please re-connect and try again.",client)
        end			
end

addEvent("submitLogin",true)
addEventHandler("submitLogin",root,loginHandler)
</pre>
<p><b>Ennek az útmutatónak a céljából egy nagyon egyszerű felhasználónév és jelszó rendszer látható. Egy átfogóbb megoldás érdekében használhatja az Account System-et, vagy a MySQL adatbázist.</b>
</p><p>Valamint vegye figyelembe a "client" változó használatát is, ez egy belső változó, amit az MTA használ azon játékosok azonosítására, akik meghívták az eventet. 
</p><p><br />
Végeztűl, ne felejtsük el hozzáadni az gui.lua fájlt a meta.xml-hez a fő resource-ban, és jelöljük meg client-ként:
</p>
<pre class="prettyprint lang-xml">&lt;script src="client/gui.lua" type="client" /&gt;
</pre>
<p><br />
Ezen a ponton van egy alap bejelentkezési ablakunk, ami ellenőrzi a játékos felhasználónevét és jelszavát, amikor rákattint a bejelentkezési gombra. Ha ezek megegyeznek, akkor a játékost automatikusan lespawnolja.
</p><p>A GUI-val való további segítségért látogassa meg a <a href="../Category_GUI_Tutorials_hu.html" title="Category:GUI Tutorials hu">GUI tutorials</a> oldalt.
</p>
<h2><span id="Ford.C3.ADtotta"></span><span class="mw-headline" id="Fordította">Fordította</span></h2>
<pre><b>2018.11.11.</b> <font size="3"><b><a rel="nofollow" class="external text" href="../User_Surge.html">Surge</a></b></font>
</pre>
<pre><b>2016.06.27.</b> <font size="3">NeXuS</font>
</pre>
<!-- 
NewPP limit report
Cached time: 20220727211851
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.014 seconds
Real time usage: 0.015 seconds
Preprocessor visited node count: 123/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 6625/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key wiki-wiki_dev_:pcache:idhash:6870-0!canonical and timestamp 20220727211851 and revision id 60829. Serialized with JSON.
 -->
</div>
<div class="printfooter">Retrieved from "<a dir="ltr" href="https://wiki.multitheftauto.com/index.php?title=HU/Introduction_to_Scripting_the_GUI&amp;oldid=60829">https://wiki.multitheftauto.com/index.php?title=HU/Introduction_to_Scripting_the_GUI&amp;oldid=60829</a>"</div></div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="../Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../Category_GUI_Tutorials.html" title="Category:GUI Tutorials">GUI Tutorials</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		
<nav id="p-personal" class="mw-portlet mw-portlet-personal vector-user-menu-legacy vector-menu" aria-labelledby="p-personal-label" role="navigation" 
	 >
	<label id="p-personal-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-createaccount" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=Special:CreateAccount&amp;returnto=HU%2FIntroduction+to+Scripting+the+GUI" title="You are encouraged to create an account and log in; however, it is not mandatory"><span>Create account</span></a></li><li id="pt-login" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=Special:UserLogin&amp;returnto=HU%2FIntroduction+to+Scripting+the+GUI" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			
<nav id="p-namespaces" class="mw-portlet mw-portlet-namespaces vector-menu vector-menu-tabs" aria-labelledby="p-namespaces-label" role="navigation" 
	 >
	<label id="p-namespaces-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Namespaces</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected mw-list-item"><a href="Introduction_to_Scripting_the_GUI.html" title="View the content page [c]" accesskey="c"><span>Page</span></a></li><li id="ca-talk" class="new mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=Talk:HU/Introduction_to_Scripting_the_GUI&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li></ul>
		
	</div>
</nav>

			
<nav id="p-variants" class="mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation" 
	 >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox" aria-labelledby="p-variants-label" />
	<label id="p-variants-label" aria-label="Change language variant" class="vector-menu-heading">
		<span class="vector-menu-heading-label">English</span>
			<span class="vector-menu-checkbox-expanded">expanded</span>
			<span class="vector-menu-checkbox-collapsed">collapsed</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			
<nav id="p-views" class="mw-portlet mw-portlet-views vector-menu vector-menu-tabs" aria-labelledby="p-views-label" role="navigation" 
	 >
	<label id="p-views-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Views</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href="Introduction_to_Scripting_the_GUI.html"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=HU/Introduction_to_Scripting_the_GUI&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=HU/Introduction_to_Scripting_the_GUI&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li></ul>
		
	</div>
</nav>

			
<nav id="p-cactions" class="mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options"
	 >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox" aria-labelledby="p-cactions-label" />
	<label id="p-cactions-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">More</span>
			<span class="vector-menu-checkbox-expanded">expanded</span>
			<span class="vector-menu-checkbox-collapsed">collapsed</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<div>
			<h3 >
				<label for="searchInput">Search</label>
			</h3>
		<form action="https://wiki.multitheftauto.com/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-navigation">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search Multi Theft Auto: Wiki" aria-label="Search Multi Theft Auto: Wiki" autocapitalize="sentences" title="Search Multi Theft Auto: Wiki [f]" accesskey="f" id="searchInput"
				/>
				<input type="hidden" name="title" value="Special:Search"/>
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search" />
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go" />
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="../Main_Page.html"
			title="Visit the main page"></a>
	</div>
	
<nav id="p-navigation" class="mw-portlet mw-portlet-navigation vector-menu vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation" 
	 >
	<label id="p-navigation-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Navigation</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Home" class="mw-list-item"><a href="../Main_Page.html"><span>Home</span></a></li><li id="n-How-you-can-help" class="mw-list-item"><a href="../How_you_can_help.html"><span>How you can help</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="../Special_RecentChanges.html" icon="recentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li><li id="n-randompage" class="mw-list-item"><a href="../GetPlayerOccupiedVehicleSeat.html" icon="die" title="Load a random page [x]" accesskey="x"><span>Random page</span></a></li></ul>
		
	</div>
</nav>

	
<nav id="p-Reference" class="mw-portlet mw-portlet-Reference vector-menu vector-menu-portal portal" aria-labelledby="p-Reference-label" role="navigation" 
	 >
	<label id="p-Reference-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Reference</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Client-Functions" class="mw-list-item"><a href="../Client_Scripting_Functions.html"><span>Client Functions</span></a></li><li id="n-Client-Events" class="mw-list-item"><a href="../Client_Scripting_Events.html"><span>Client Events</span></a></li><li id="n-Server-Functions" class="mw-list-item"><a href="../Server_Scripting_Functions.html"><span>Server Functions</span></a></li><li id="n-Server-Events" class="mw-list-item"><a href="../Server_Scripting_Events.html"><span>Server Events</span></a></li><li id="n-Shared-Functions" class="mw-list-item"><a href="../Shared_Scripting_Functions.html"><span>Shared Functions</span></a></li><li id="n-Useful-Functions" class="mw-list-item"><a href="../Useful_Functions.html"><span>Useful Functions</span></a></li><li id="n-MTA-Classes" class="mw-list-item"><a href="../MTA_Classes.html"><span>MTA Classes</span></a></li><li id="n-MTA-Elements" class="mw-list-item"><a href="../Element.html"><span>MTA Elements</span></a></li><li id="n-Element-Tree" class="mw-list-item"><a href="../Element_tree.html"><span>Element Tree</span></a></li></ul>
		
	</div>
</nav>

<nav id="p-tb" class="mw-portlet mw-portlet-tb vector-menu vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation" 
	 >
	<label id="p-tb-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">Tools</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="../Special_WhatLinksHere/HU/Introduction_to_Scripting_the_GUI.html" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="../Special_RecentChangesLinked/HU/Introduction_to_Scripting_the_GUI.html" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="../Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=HU/Introduction_to_Scripting_the_GUI&amp;oldid=60829" title="Permanent link to this revision of the page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="https://wiki.multitheftauto.com/index.php?title=HU/Introduction_to_Scripting_the_GUI&amp;action=info" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	
<nav id="p-lang" class="mw-portlet mw-portlet-lang vector-menu vector-menu-portal portal" aria-labelledby="p-lang-label" role="navigation" 
	 >
	<label id="p-lang-label" aria-label="" class="vector-menu-heading">
		<span class="vector-menu-heading-label">In other languages</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li class="interlanguage-link interwiki-en mw-list-item"><a href="http://wiki.multitheftauto.com/index.php?title=Introduction_to_Scripting_the_GUI" title="Introduction to Scripting the GUI – English" lang="en" hreflang="en" class="interlanguage-link-target"><span>English</span></a></li><li class="interlanguage-link interwiki-it mw-list-item"><a href="http://wiki.multitheftauto.com/index.php?title=IT/Introduzione_allo_scripting_della_GUI" title="Introduzione allo scripting della GUI – italiano" lang="it" hreflang="it" class="interlanguage-link-target"><span>Italiano</span></a></li><li class="interlanguage-link interwiki-ru mw-list-item"><a href="http://wiki.multitheftauto.com/index.php?title=RU/Introduction_to_Scripting_the_GUI" title="Introduction to Scripting the GUI – русский" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li><li class="interlanguage-link interwiki-es mw-list-item"><a href="http://wiki.multitheftauto.com/index.php?title=ES/Introducci%C3%B3n_a_la_Programaci%C3%B3n_de_GUI" title="Introducción a la Programación de GUI – español" lang="es" hreflang="es" class="interlanguage-link-target"><span>Español</span></a></li></ul>
		
	</div>
</nav>

</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 18 November 2018, at 18:33.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/licenses/fdl-1.3.html">GNU Free Documentation License 1.3</a> unless otherwise noted.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../Multi_Theft_Auto__Wiki_Privacy_policy.html" title="Multi Theft Auto: Wiki:Privacy policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../Multi_Theft_Auto__Wiki_About.html" title="Multi Theft Auto: Wiki:About">About Multi Theft Auto: Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="../Multi_Theft_Auto__Wiki_General_disclaimer.html" title="Multi Theft Auto: Wiki:General disclaimer">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/licenses/fdl-1.3.html"><img src="../../resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3" width="88" height="31" loading="lazy"/></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="../../resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

<script src="../../extensions/_MTAThemeExtensions/main.js"></script><script src="../../extensions/_MTAThemeExtensions/topmenu.js"></script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.014","walltime":"0.015","ppvisitednodes":{"value":123,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":100},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":6625,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20220727211851","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":62});});</script>
</body>
</html>